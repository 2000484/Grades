import{c as ne,a as s,f as _,t as L}from"../chunks/DnKRhqIz.js";import{p as Q,f as w,b as me,a as W,c as C,r as x,s as m,t as A,k as e,z as o,n as O,d as he,$ as $e}from"../chunks/C_6UiiDj.js";import{a as ue,r as ve,s as M,i as G}from"../chunks/BiKsXKFa.js";import{I as ge,a as xe}from"../chunks/HTnx3aD8.js";import{c as re}from"../chunks/Dx7iaVqR.js";import{t as te,f as Pe,b as ie}from"../chunks/DPUHvIcC.js";import{h as ke}from"../chunks/D4UKCDl_.js";import{f as Ce}from"../chunks/BXc22fYE.js";import{d as Ae,r as we}from"../chunks/B2N5e1u8.js";import{b as ye}from"../chunks/B5lnDM8m.js";import{A as le}from"../chunks/BrFtJG7U.js";import{A as Me}from"../chunks/AzE1CPgA.js";import{B as ae}from"../chunks/DTP4muSX.js";import{P as be,p as de,C as Re}from"../chunks/8DYgLqV_.js";import{g as Ie,s as ce,b as fe,a as Ne}from"../chunks/4X1Xe5iH.js";import{g as Se}from"../chunks/CdMOXVoB.js";import{b as Ge}from"../chunks/CnOpXMm8.js";import{B as K}from"../chunks/B_MuCRaO.js";import{N as Be}from"../chunks/Ckop9Xay.js";import{s as pe}from"../chunks/5BVLSNDe.js";import{U as Ee}from"../chunks/BJsYme8h.js";import{R as Ue}from"../chunks/C8ZSkF9i.js";function Fe(b,r){Q(r,!0);let v=ve(r,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M15 22a1 1 0 0 1-1-1v-4a1 1 0 0 1 .445-.832l3-2a1 1 0 0 1 1.11 0l3 2A1 1 0 0 1 22 17v4a1 1 0 0 1-1 1z"}],["path",{d:"M18 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 .601.2"}],["path",{d:"M18 22v-3"}],["circle",{cx:"10",cy:"10",r:"3"}]];ge(b,ue({name:"map-pin-house"},()=>v,{get iconNode(){return h},children:(a,P)=>{var d=ne(),R=w(d);pe(R,()=>r.children??me),s(a,d)},$$slots:{default:!0}})),W()}function De(b,r){Q(r,!0);let v=ve(r,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M18.518 17.347A7 7 0 0 1 14 19"}],["path",{d:"M18.8 4A11 11 0 0 1 20 9"}],["path",{d:"M9 9h.01"}],["circle",{cx:"20",cy:"16",r:"2"}],["circle",{cx:"9",cy:"9",r:"7"}],["rect",{x:"4",y:"16",width:"10",height:"6",rx:"2"}]];ge(b,ue({name:"bell-electric"},()=>v,{get iconNode(){return h},children:(a,P)=>{var d=ne(),R=w(d);pe(R,()=>r.children??me),s(a,d)},$$slots:{default:!0}})),W()}var ze=_("<!> ",1),Te=_("<!> ",1),Ve=_("<!> ",1),je=_('<div class="flex flex-col items-center gap-2 self-end sm:flex-row sm:self-auto"><!> <!></div>'),qe=_('<div class="flex flex-1 flex-col gap-2 self-start"><span class="line-clamp-1"> </span> <div class="flex flex-wrap gap-1"><!> <!> <!> <!></div></div> <!>',1);function He(b,r){Q(r,!0);function v(a){if(typeof a=="number")return a>100||a>=90?"green":a>=80?"yellow":"red";if(a.match(/^A\+?-?$/))return"green";if(a.match(/^B\+?-?$/))return"yellow";if(a.match(/^[CDEF]\+?-?$/))return"red"}const h=o(()=>{if(!r.grade)return;const a=v(r.grade.letter);if(a!==void 0)return Ae[a]});{let a=o(()=>Ge),P=o(()=>r.index.toString());ae(b,{get href(){return`${e(a)??""}/Grades/${e(P)??""}`},variant:"card",size:"lg",class:"flex h-auto flex-col items-stretch gap-3 rounded-xl p-4 text-xl whitespace-normal sm:flex-row sm:justify-between transition-all duration-300 hover:scale-105 hover:shadow-lg",children:(d,R)=>{var T=qe(),B=w(T),I=C(B),X=C(I,!0);x(I);var V=m(I,2),E=C(V);K(E,{variant:"secondary",children:(i,$)=>{var l=ze(),c=w(l);De(c,{});var p=m(c);A(()=>M(p,` Period ${r.period??""}`)),s(i,l)},$$slots:{default:!0}});var j=m(E,2);K(j,{variant:"secondary",title:"Room",children:(i,$)=>{var l=Te(),c=w(l);Fe(c,{});var p=m(c);A(()=>M(p,` ${r.room??""}`)),s(i,l)},$$slots:{default:!0}});var q=m(j,2);K(q,{variant:"secondary",title:"Teacher",children:(i,$)=>{var l=Ve(),c=w(l);Ee(c,{});var p=m(c);A(()=>M(p,` ${r.teacher??""}`)),s(i,l)},$$slots:{default:!0}});var t=m(q,2);{var u=i=>{K(i,{color:"green",children:($,l)=>{O();var c=L();A(()=>M(c,`${r.unseenAssignmentsCount??""} new`)),s($,c)},$$slots:{default:!0}})};G(t,i=>{r.unseenAssignmentsCount>0&&i(u)})}x(V),x(B);var k=m(B,2);{var Y=i=>{var $=je(),l=C($);{let p=o(()=>r.grade.letter+" "),f=o(()=>r.grade.percentage/100);Be(l,{get prefix(){return e(p)},get value(){return e(f)},format:{style:"percent",maximumFractionDigits:3},class:"self-end sm:self-auto"})}var c=m(l,2);{let p=o(()=>Math.min(isNaN(r.grade.percentage)?0:r.grade.percentage,100));be(c,{get value(){return e(p)},class:"w-48 transition-all lg:w-64",get indicatorClass(){return e(h)}})}x($),s(i,$)};G(k,i=>{r.grade&&i(Y)})}A(()=>M(X,r.name)),s(d,T)},$$slots:{default:!0}})}W()}var Je=_("<!> <!>",1),Ke=_("<div><!></div>"),Le=_('<li class="w-full max-w-3xl animate-in fade-in slide-in-from-bottom-3 duration-500"><!></li>'),Oe=_("<!> <!>",1),Qe=_("<div><!></div>"),We=_('<div class="m-4 space-y-6 pb-8 animate-in fade-in duration-500"><div class="pt-4 animate-in slide-in-from-top-2 duration-500"><!></div> <!> <ol class="flex flex-col items-center gap-6"></ol> <!></div>');function $r(b,r){Q(r,!0);const v=o(()=>Ie.gradebookCatalog),h=o(Se),a=o(()=>e(h)?.ReportingPeriod),P=o(()=>e(v)?e(v).overrideIndex??e(v).defaultIndex:void 0),d=o(()=>e(h)?.Courses.Course);function R(t){if(t.Marks==="")return 0;const u=t.Marks.Mark.Assignments.Assignment;return u?u.map(de).filter(({id:k})=>!fe.has(k)).length:0}function T(t){if(t.Marks!=="")return{letter:t.Marks.Mark._CalculatedScoreString,percentage:parseFloat(t.Marks.Mark._CalculatedScoreRaw)}}const B=o(()=>e(d)?e(d).map(t=>t.Marks===""?"N/A":t.Marks.Mark._CalculatedScoreString).every(t=>t==="N/A"):!1),I=o(()=>e(d)?e(d).reduce((t,u)=>t+R(u),0):0),X=t=>{if(t.Marks==="")return;const u=t.Marks.Mark.Assignments.Assignment;u&&u.map(de).forEach(({id:k})=>fe.add(k))},V=t=>t.forEach(X);var E=ne();ke("p7is4s",t=>{he(()=>{$e.title=`Grades - ${ye}`})});var j=w(E);{var q=t=>{var u=We(),k=C(u),Y=C(k);{let f=o(()=>e(v)?.canonicalReportPeriodEntries??e(h).ReportingPeriods.ReportPeriod),n=o(()=>e(v)?.loadingIndex!==void 0),y=o(()=>e(v)?.defaultIndex);Ue(Y,{get activeName(){return e(a)._GradePeriod},get activeIndex(){return e(P)},get reportPeriods(){return e(f)},switchReportPeriod:g=>ce({overrideIndex:g}),hasReportPeriodCached:g=>e(v)?.recordCache[g]!==void 0,get disabled(){return e(n)},get defaultIndex(){return e(y)}})}x(k);var i=m(k,2);{var $=f=>{var n=Ke(),y=C(n);re(y,()=>le,(g,U)=>{U(g,{class:"mx-auto flex w-fit items-center animate-in fade-in slide-in-from-top-3 duration-500",children:(F,Z)=>{var N=Je(),D=w(N);Re(D,{class:"shrink-0"});var H=m(D),z=m(H);{var J=S=>{ae(S,{onclick:()=>ce({overrideIndex:e(P)-1}),variant:"outline",class:"transition-all duration-300 hover:scale-105",children:(oe,ee)=>{O();var se=L();A(_e=>M(se,`View ${_e??""}`),[()=>Ne(e(P)-1)]),s(oe,se)},$$slots:{default:!0}})};G(z,S=>{e(P)>0&&S(J)})}A(()=>M(H,` It looks like you don't have any grades yet in ${e(a)._GradePeriod??""}. `)),s(F,N)},$$slots:{default:!0}})}),x(n),te(1,n,()=>ie,()=>({start:.95,duration:300})),s(f,n)};G(i,f=>{e(B)&&f($)})}var l=m(i,2);xe(l,23,()=>e(d),f=>f._CourseID,(f,n,y)=>{var g=Le(),U=C(g);{let F=o(()=>we(e(n)._CourseName)),Z=o(()=>R(e(n))),N=o(()=>T(e(n)));He(U,{get index(){return e(y)},get name(){return e(F)},get period(){return e(n)._Period},get room(){return e(n)._Room},get teacher(){return e(n)._Staff},get teacherEmail(){return e(n)._StaffEMail},get unseenAssignmentsCount(){return e(Z)},get grade(){return e(N)}})}x(g),A(()=>Ce(g,`animation-delay: ${e(y)*50}ms`)),s(f,g)}),x(l);var c=m(l,2);{var p=f=>{var n=Qe(),y=C(n);re(y,()=>le,(g,U)=>{U(g,{class:"mx-auto flex w-fit items-center gap-4 shadow-lg/30 animate-in fade-in slide-in-from-bottom-4 duration-500",children:(F,Z)=>{var N=Oe(),D=w(N);re(D,()=>Me,(z,J)=>{J(z,{class:"tracking-normal",children:(S,oe)=>{O();var ee=L();A(()=>M(ee,`${e(I)??""} new assignment${e(I)===1?"":"s"}`)),s(S,ee)},$$slots:{default:!0}})});var H=m(D,2);ae(H,{variant:"outline",onclick:()=>V(e(d)),class:"transition-all duration-300 hover:scale-105",children:(z,J)=>{O();var S=L("Mark as seen");s(z,S)},$$slots:{default:!0}}),s(F,N)},$$slots:{default:!0}})}),x(n),te(1,n,()=>ie,()=>({start:.95,duration:400})),s(f,n)};G(c,f=>{e(d)&&e(I)>0&&f(p)})}x(u),te(1,u,()=>Pe,()=>({duration:300})),s(t,u)};G(j,t=>{e(a)&&e(P)!==void 0&&e(h)&&t(q)})}s(b,E),W()}export{$r as component};
