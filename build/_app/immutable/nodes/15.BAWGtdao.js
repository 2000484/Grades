import{c as P,a as t,f as N,t as C}from"../chunks/DnKRhqIz.js";import{p as it,f as s,b as rt,a as ct,e as Wt,d as Ht,$ as Qt,s as r,c as _,r as g,n as G,t as W,k as et,v as Xt,q as Yt}from"../chunks/C_6UiiDj.js";import{a as St,r as Tt,i as M,s as S}from"../chunks/BiKsXKFa.js";import{I as Nt,a as Zt}from"../chunks/HTnx3aD8.js";import{c as o}from"../chunks/Dx7iaVqR.js";import{h as te}from"../chunks/D4UKCDl_.js";import{s as ee,d as re}from"../chunks/BXc22fYE.js";import{a as h,c as ae,L as Rt}from"../chunks/B2N5e1u8.js";import{b as oe}from"../chunks/B5lnDM8m.js";import{L as se}from"../chunks/BTwEwlez.js";import{R as ne}from"../chunks/hruS_XFh.js";import{a as de,b as le,c as ie,A as ce}from"../chunks/DR_AJ1NY.js";import{B as H}from"../chunks/DTP4muSX.js";import{C as wt}from"../chunks/8U42_7tY.js";import{C as bt,a as It,b as At}from"../chunks/CRNYLTrB.js";import{C as ue}from"../chunks/S6GV-0Gb.js";import{T as fe,a as ve,b as $e,c as kt}from"../chunks/CTmJrQfN.js";import{s as Dt}from"../chunks/5BVLSNDe.js";function dt(b,c){it(c,!0);let R=Tt(c,["$$slots","$$events","$$legacy"]);const T=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Nt(b,St({name:"copy"},()=>R,{get iconNode(){return T},children:(k,U)=>{var f=P(),D=s(f);Dt(D,()=>c.children??rt),t(k,f)},$$slots:{default:!0}})),ct()}function pe(b,c){it(c,!0);let R=Tt(c,["$$slots","$$events","$$legacy"]);const T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];Nt(b,St({name:"eye"},()=>R,{get iconNode(){return T},children:(k,U)=>{var f=P(),D=s(f);Dt(D,()=>c.children??rt),t(k,f)},$$slots:{default:!0}})),ct()}const x=Wt({loaded:!1}),Ct=async(b=!1)=>{const{studentAccount:c}=h;c&&await ae(x,()=>c.studentInfo(),Rt.studentInfo,1e3*60*60*24*30,b)},lt=(b,c=rt,R=rt)=>{var T=P(),k=s(T);o(k,()=>kt,(U,f)=>{f(U,{children:(D,ut)=>{H(D,{variant:"outline",get onclick(){return R()},children:(at,ft)=>{G();var q=C();W(()=>S(q,c())),t(at,q)},$$slots:{default:!0}})},$$slots:{default:!0}})}),t(b,T)};var me=N('<div class="space-y-2"><p> </p> <p class="text-muted-foreground"> </p> <p class="text-muted-foreground"> </p> <p class="text-muted-foreground"> </p></div> <img class="h-full rounded-sm" alt="Student Portrait"/>',1),_e=N("<!> <!>",1),ge=N("<!> <!>",1),he=N('<dl><dt>Username</dt> <dd class="flex items-center justify-end gap-2"> <!></dd> <dt>Password</dt> <dd class="flex items-center justify-end gap-2"><span><!></span> <!> <!></dd> <dt>Domain</dt> <dd class="flex items-center justify-end gap-2"> <!></dd></dl>'),xe=N("<!> <!>",1),Pe=N("<!> <!> <!> <!>",1),ye=N("<!> <!>",1),we=N('<!> <!> <div class="m-4 flex flex-wrap justify-center gap-4"><!> <!></div> <!>',1);function qe(b,c){it(c,!0),Ct();const R=Object.values(Rt);async function T(e){const l=localStorage.getItem(e);if(l===null){alert("Not found");return}await navigator.clipboard.writeText(l)}async function k(e){const l=await navigator.clipboard.readText();try{JSON.parse(l)}catch{alert("Invalid JSON");return}localStorage.setItem(e,l)}const U=e=>localStorage.removeItem(e);let f=Xt(!1);function D(){Yt(f,!et(f))}function ut(){h.studentAccount&&navigator.clipboard.writeText(h.studentAccount.userID)}function at(){h.studentAccount&&navigator.clipboard.writeText(h.studentAccount.password)}function ft(){h.studentAccount&&navigator.clipboard.writeText(h.studentAccount.domain)}var q=we();te("1fy1p33",e=>{Ht(()=>{Qt.title=`Student Info - ${oe}`})});var vt=s(q);{var jt=e=>{se(e,{children:(l,O)=>{G();var J=C("Loading student info...");t(l,J)},$$slots:{default:!0}})};M(vt,e=>{x.loaded||e(jt)})}var $t=r(vt,2);{var Lt=e=>{ne(e,{get canRefresh(){return x.loaded},get lastRefresh(){return x.lastRefresh},refresh:()=>Ct(!0)})};M($t,e=>{x.lastRefresh!==void 0&&e(Lt)})}var ot=r($t,2),pt=_(ot);{var Bt=e=>{var l=P(),O=s(l);o(O,()=>wt,(J,K)=>{K(J,{class:"w-sm max-w-full",children:(E,st)=>{var j=_e(),L=s(j);o(L,()=>bt,(y,w)=>{w(y,{children:(I,B)=>{var n=P(),d=s(n);o(d,()=>It,($,u)=>{u($,{children:(i,v)=>{G();var p=C("Student Information");t(i,p)},$$slots:{default:!0}})}),t(I,n)},$$slots:{default:!0}})});var Q=r(L,2);o(Q,()=>At,(y,w)=>{w(y,{class:"flex h-full items-center justify-between gap-6",children:(I,B)=>{var n=me(),d=s(n),$=_(d),u=_($,!0);g($);var i=r($,2),v=_(i,!0);g(i);var p=r(i,2),A=_(p);g(p);var F=r(p,2),z=_(F,!0);g(F),g(d);var V=r(d,2);W(()=>{S(u,x.data.FormattedName),S(v,x.data.PermID),S(A,`Grade ${x.data.Grade??""}`),S(z,x.data.Gender),ee(V,"src",`data:image/png;base64,${x.data.Photo??""}`)}),t(I,n)},$$slots:{default:!0}})}),t(E,j)},$$slots:{default:!0}})}),t(e,l)};M(pt,e=>{x.data&&e(Bt)})}var zt=r(pt,2);{var Gt=e=>{var l=P(),O=s(l);o(O,()=>wt,(J,K)=>{K(J,{class:"w-sm max-w-full",children:(E,st)=>{var j=xe(),L=s(j);o(L,()=>bt,(y,w)=>{w(y,{children:(I,B)=>{var n=ge(),d=s(n);o(d,()=>It,(u,i)=>{i(u,{children:(v,p)=>{G();var A=C("Login Information");t(v,A)},$$slots:{default:!0}})});var $=r(d,2);o($,()=>ue,(u,i)=>{i(u,{children:(v,p)=>{G();var A=C("Stored on-device");t(v,A)},$$slots:{default:!0}})}),t(I,n)},$$slots:{default:!0}})});var Q=r(L,2);o(Q,()=>At,(y,w)=>{w(y,{children:(I,B)=>{var n=he(),d=r(_(n),2),$=_(d),u=r($);H(u,{onclick:ut,variant:"outline",size:"icon-sm",title:"Copy username",children:(a,m)=>{dt(a,{})},$$slots:{default:!0}}),g(d);var i=r(d,4),v=_(i),p=_(v);{var A=a=>{var m=C();W(()=>S(m,h.studentAccount.password)),t(a,m)},F=a=>{var m=C("#Wa5$^yB%4R#6K^C");t(a,m)};M(p,a=>{et(f)?a(A):a(F,!1)})}g(v);var z=r(v,2);{var V=a=>{H(a,{onclick:D,variant:"outline",size:"icon-sm",title:"Show password",children:(m,Z)=>{pe(m,{})},$$slots:{default:!0}})};M(z,a=>{et(f)||a(V)})}var nt=r(z,2);H(nt,{onclick:at,variant:"outline",size:"icon-sm",title:"Copy password",children:(a,m)=>{dt(a,{})},$$slots:{default:!0}}),g(i);var X=r(i,4),Y=_(X),mt=r(Y);H(mt,{onclick:ft,variant:"outline",size:"icon-sm",title:"Copy domain",children:(a,m)=>{dt(a,{})},$$slots:{default:!0}}),g(X),g(n),W(()=>{S($,`${h.studentAccount.userID??""} `),re(v,1,`${et(f)?"":"blur select-none"} transition-all`),S(Y,`${h.studentAccount.domain??""} `)}),t(I,n)},$$slots:{default:!0}})}),t(E,j)},$$slots:{default:!0}})}),t(e,l)};M(zt,e=>{h.studentAccount&&e(Gt)})}g(ot);var Ot=r(ot,2);o(Ot,()=>ce,(e,l)=>{l(e,{type:"single",class:"mx-auto w-fit",children:(O,J)=>{var K=P(),E=s(K);o(E,()=>de,(st,j)=>{j(st,{children:(L,Q)=>{var y=ye(),w=s(y);o(w,()=>le,(B,n)=>{n(B,{children:(d,$)=>{G();var u=C("Developer Tools");t(d,u)},$$slots:{default:!0}})});var I=r(w,2);o(I,()=>ie,(B,n)=>{n(B,{children:(d,$)=>{var u=P(),i=s(u);o(i,()=>fe,(v,p)=>{p(v,{children:(A,F)=>{var z=P(),V=s(z);o(V,()=>ve,(nt,X)=>{X(nt,{children:(Y,mt)=>{var a=P(),m=s(a);Zt(m,16,()=>R,Z=>Z,(Z,tt)=>{var _t=P(),Jt=s(_t);o(Jt,()=>$e,(Kt,Mt)=>{Mt(Kt,{children:(Ut,be)=>{var gt=Pe(),ht=s(gt);o(ht,()=>kt,(Et,Ft)=>{Ft(Et,{children:(Vt,Ie)=>{G();var yt=C();W(()=>S(yt,tt)),t(Vt,yt)},$$slots:{default:!0}})});var xt=r(ht,2);lt(xt,()=>"Copy",()=>()=>{T(tt)});var Pt=r(xt,2);lt(Pt,()=>"Paste",()=>()=>{k(tt)});var qt=r(Pt,2);lt(qt,()=>"Delete",()=>()=>U(tt)),t(Ut,gt)},$$slots:{default:!0}})}),t(Z,_t)}),t(Y,a)},$$slots:{default:!0}})}),t(A,z)},$$slots:{default:!0}})}),t(d,u)},$$slots:{default:!0}})}),t(L,y)},$$slots:{default:!0}})}),t(O,K)},$$slots:{default:!0}})}),t(b,q),ct()}export{qe as component};
