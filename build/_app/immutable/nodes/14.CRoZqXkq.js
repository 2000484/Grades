import{c as h,a,f as x,t as l}from"../chunks/DnKRhqIz.js";import{o as M}from"../chunks/BMYUHyEc.js";import{p as S,f,a as j,d as q,q as C,v as F,k as m,$ as G,c as v,r as $,s as z,n as d,t as D}from"../chunks/C_6UiiDj.js";import{i as H,s as I}from"../chunks/BiKsXKFa.js";import{a as J}from"../chunks/CUFAqsnW.js";import{h as K}from"../chunks/D4UKCDl_.js";import{b as N}from"../chunks/CnOpXMm8.js";import{p as O}from"../chunks/7_CIfT-0.js";import{a as _,g as Q}from"../chunks/B2N5e1u8.js";import{b as T}from"../chunks/B5lnDM8m.js";import{L as g}from"../chunks/BTwEwlez.js";import{A as V}from"../chunks/BrFtJG7U.js";import{B as W}from"../chunks/DTP4muSX.js";var X=x('<h1 class="text-lg"> </h1> <!>',1),Y=x('<div class="flex min-h-screen items-center justify-center"><!></div>');function ut(w,b){S(b,!0);let i=F(void 0);const A=async t=>{if(t===null)throw new Error("AttachmentGU not provided");if(!_.studentAccount)throw new Error("Student account not loaded");let r;try{r=await _.studentAccount.attachment(t)}catch{throw new Error("Attachment not found")}return Q(r.Base64Code)};M(async()=>{C(i,A(O.url.searchParams.get("attachmentGU")),!0),location.assign(await m(i))});var p=h();K("pxmk1",t=>{q(()=>{G.title=`Attachment - ${T}`})});var B=f(p);{var L=t=>{var r=h(),P=f(r);J(P,()=>m(i),e=>{g(e,{children:(o,s)=>{d();var n=l("Loading attachment...");a(o,n)},$$slots:{default:!0}})},e=>{g(e,{children:(o,s)=>{d();var n=l("Redirecting...");a(o,n)},$$slots:{default:!0}})},(e,o)=>{var s=Y(),n=v(s);V(n,{class:"block w-fit space-y-2",children:(k,Z)=>{var u=X(),c=f(u),y=v(c,!0);$(c);var R=z(c,2);W(R,{get href(){return`${N??""}/mail`},variant:"outline",children:(U,tt)=>{d();var E=l("Return to Mail");a(U,E)},$$slots:{default:!0}}),D(()=>I(y,m(o))),a(k,u)},$$slots:{default:!0}}),$(s),a(e,s)}),a(t,r)};H(B,t=>{m(i)&&t(L)})}a(w,p),j()}export{ut as component};
