import{e as $t}from"./C_6UiiDj.js";const ft=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Vt=ft+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",jt="["+ft+"]["+Vt+"]*",qt=new RegExp("^"+jt+"$");function ut(i,e){const t=[];let s=e.exec(i);for(;s;){const o=[];o.startIndex=e.lastIndex-s[0].length;const c=s.length;for(let l=0;l<c;l++)o.push(s[l]);t.push(o),s=e.exec(i)}return t}const we=function(i){const e=qt.exec(i);return!(e===null||typeof e>"u")};function Gt(i){return typeof i<"u"}const Wt={allowBooleanAttributes:!1,unpairedTags:[]};function Ht(i,e){e=Object.assign({},Wt,e);const t=[];let s=!1,o=!1;i[0]==="\uFEFF"&&(i=i.substr(1));for(let c=0;c<i.length;c++)if(i[c]==="<"&&i[c+1]==="?"){if(c+=2,c=Ye(i,c),c.err)return c}else if(i[c]==="<"){let l=c;if(c++,i[c]==="!"){c=Ze(i,c);continue}else{let u=!1;i[c]==="/"&&(u=!0,c++);let p="";for(;c<i.length&&i[c]!==">"&&i[c]!==" "&&i[c]!=="	"&&i[c]!==`
`&&i[c]!=="\r";c++)p+=i[c];if(p=p.trim(),p[p.length-1]==="/"&&(p=p.substring(0,p.length-1),c--),!ei(p)){let m;return p.trim().length===0?m="Invalid space after '<'.":m="Tag '"+p+"' is an invalid name.",R("InvalidTag",m,L(i,c))}const d=Zt(i,c);if(d===!1)return R("InvalidAttr","Attributes for '"+p+"' have open quote.",L(i,c));let w=d.value;if(c=d.index,w[w.length-1]==="/"){const m=c-w.length;w=w.substring(0,w.length-1);const b=Je(w,e);if(b===!0)s=!0;else return R(b.err.code,b.err.msg,L(i,m+b.err.line))}else if(u)if(d.tagClosed){if(w.trim().length>0)return R("InvalidTag","Closing tag '"+p+"' can't have attributes or invalid starting.",L(i,l));if(t.length===0)return R("InvalidTag","Closing tag '"+p+"' has not been opened.",L(i,l));{const m=t.pop();if(p!==m.tagName){let b=L(i,m.tagStartPos);return R("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+b.line+", col "+b.col+") instead of closing tag '"+p+"'.",L(i,l))}t.length==0&&(o=!0)}}else return R("InvalidTag","Closing tag '"+p+"' doesn't have proper closing.",L(i,c));else{const m=Je(w,e);if(m!==!0)return R(m.err.code,m.err.msg,L(i,c-w.length+m.err.line));if(o===!0)return R("InvalidXml","Multiple possible root nodes found.",L(i,c));e.unpairedTags.indexOf(p)!==-1||t.push({tagName:p,tagStartPos:l}),s=!0}for(c++;c<i.length;c++)if(i[c]==="<")if(i[c+1]==="!"){c++,c=Ze(i,c);continue}else if(i[c+1]==="?"){if(c=Ye(i,++c),c.err)return c}else break;else if(i[c]==="&"){const m=Qt(i,c);if(m==-1)return R("InvalidChar","char '&' is not expected.",L(i,c));c=m}else if(o===!0&&!Xe(i[c]))return R("InvalidXml","Extra text at the end",L(i,c));i[c]==="<"&&c--}}else{if(Xe(i[c]))continue;return R("InvalidChar","char '"+i[c]+"' is not expected.",L(i,c))}if(s){if(t.length==1)return R("InvalidTag","Unclosed tag '"+t[0].tagName+"'.",L(i,t[0].tagStartPos));if(t.length>0)return R("InvalidXml","Invalid '"+JSON.stringify(t.map(c=>c.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return R("InvalidXml","Start tag expected.",1);return!0}function Xe(i){return i===" "||i==="	"||i===`
`||i==="\r"}function Ye(i,e){const t=e;for(;e<i.length;e++)if(i[e]=="?"||i[e]==" "){const s=i.substr(t,e-t);if(e>5&&s==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",L(i,e));if(i[e]=="?"&&i[e+1]==">"){e++;break}else continue}return e}function Ze(i,e){if(i.length>e+5&&i[e+1]==="-"&&i[e+2]==="-"){for(e+=3;e<i.length;e++)if(i[e]==="-"&&i[e+1]==="-"&&i[e+2]===">"){e+=2;break}}else if(i.length>e+8&&i[e+1]==="D"&&i[e+2]==="O"&&i[e+3]==="C"&&i[e+4]==="T"&&i[e+5]==="Y"&&i[e+6]==="P"&&i[e+7]==="E"){let t=1;for(e+=8;e<i.length;e++)if(i[e]==="<")t++;else if(i[e]===">"&&(t--,t===0))break}else if(i.length>e+9&&i[e+1]==="["&&i[e+2]==="C"&&i[e+3]==="D"&&i[e+4]==="A"&&i[e+5]==="T"&&i[e+6]==="A"&&i[e+7]==="["){for(e+=8;e<i.length;e++)if(i[e]==="]"&&i[e+1]==="]"&&i[e+2]===">"){e+=2;break}}return e}const Xt='"',Yt="'";function Zt(i,e){let t="",s="",o=!1;for(;e<i.length;e++){if(i[e]===Xt||i[e]===Yt)s===""?s=i[e]:s!==i[e]||(s="");else if(i[e]===">"&&s===""){o=!0;break}t+=i[e]}return s!==""?!1:{value:t,index:e,tagClosed:o}}const Jt=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Je(i,e){const t=ut(i,Jt),s={};for(let o=0;o<t.length;o++){if(t[o][1].length===0)return R("InvalidAttr","Attribute '"+t[o][2]+"' has no space in starting.",ce(t[o]));if(t[o][3]!==void 0&&t[o][4]===void 0)return R("InvalidAttr","Attribute '"+t[o][2]+"' is without value.",ce(t[o]));if(t[o][3]===void 0&&!e.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+t[o][2]+"' is not allowed.",ce(t[o]));const c=t[o][2];if(!Kt(c))return R("InvalidAttr","Attribute '"+c+"' is an invalid name.",ce(t[o]));if(!s.hasOwnProperty(c))s[c]=1;else return R("InvalidAttr","Attribute '"+c+"' is repeated.",ce(t[o]))}return!0}function Dt(i,e){let t=/\d/;for(i[e]==="x"&&(e++,t=/[\da-fA-F]/);e<i.length;e++){if(i[e]===";")return e;if(!i[e].match(t))break}return-1}function Qt(i,e){if(e++,i[e]===";")return-1;if(i[e]==="#")return e++,Dt(i,e);let t=0;for(;e<i.length;e++,t++)if(!(i[e].match(/\w/)&&t<20)){if(i[e]===";")break;return-1}return e}function R(i,e,t){return{err:{code:i,msg:e,line:t.line||t,col:t.col}}}function Kt(i){return we(i)}function ei(i){return we(i)}function L(i,e){const t=i.substring(0,e).split(/\r?\n/);return{line:t.length,col:t[t.length-1].length+1}}function ce(i){return i.startIndex+i[1].length}const ti={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(i,e){return e},attributeValueProcessor:function(i,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(i,e,t){return i},captureMetaData:!1},ii=function(i){return Object.assign({},ti,i)};let ge;typeof Symbol!="function"?ge="@@xmlMetadata":ge=Symbol("XML Node Metadata");class Q{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e,t){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),t!==void 0&&(this.child[this.child.length-1][ge]={startIndex:t})}static getMetaDataSymbol(){return ge}}class ri{constructor(e){this.suppressValidationErr=!e}readDocType(e,t){const s={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let o=1,c=!1,l=!1,u="";for(;t<e.length;t++)if(e[t]==="<"&&!l){if(c&&Z(e,"!ENTITY",t)){t+=7;let p,d;[p,d,t]=this.readEntityExp(e,t+1,this.suppressValidationErr),d.indexOf("&")===-1&&(s[p]={regx:RegExp(`&${p};`,"g"),val:d})}else if(c&&Z(e,"!ELEMENT",t)){t+=8;const{index:p}=this.readElementExp(e,t+1);t=p}else if(c&&Z(e,"!ATTLIST",t))t+=8;else if(c&&Z(e,"!NOTATION",t)){t+=9;const{index:p}=this.readNotationExp(e,t+1,this.suppressValidationErr);t=p}else if(Z(e,"!--",t))l=!0;else throw new Error("Invalid DOCTYPE");o++,u=""}else if(e[t]===">"){if(l?e[t-1]==="-"&&e[t-2]==="-"&&(l=!1,o--):o--,o===0)break}else e[t]==="["?c=!0:u+=e[t];if(o!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:s,i:t}}readEntityExp(e,t){t=_(e,t);let s="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)s+=e[t],t++;if(fe(s),t=_(e,t),!this.suppressValidationErr){if(e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported")}let o="";return[t,o]=this.readIdentifierVal(e,t,"entity"),t--,[s,o,t]}readNotationExp(e,t){t=_(e,t);let s="";for(;t<e.length&&!/\s/.test(e[t]);)s+=e[t],t++;!this.suppressValidationErr&&fe(s),t=_(e,t);const o=e.substring(t,t+6).toUpperCase();if(!this.suppressValidationErr&&o!=="SYSTEM"&&o!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${o}"`);t+=o.length,t=_(e,t);let c=null,l=null;if(o==="PUBLIC")[t,c]=this.readIdentifierVal(e,t,"publicIdentifier"),t=_(e,t),(e[t]==='"'||e[t]==="'")&&([t,l]=this.readIdentifierVal(e,t,"systemIdentifier"));else if(o==="SYSTEM"&&([t,l]=this.readIdentifierVal(e,t,"systemIdentifier"),!this.suppressValidationErr&&!l))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:s,publicIdentifier:c,systemIdentifier:l,index:--t}}readIdentifierVal(e,t,s){let o="";const c=e[t];if(c!=='"'&&c!=="'")throw new Error(`Expected quoted string, found "${c}"`);for(t++;t<e.length&&e[t]!==c;)o+=e[t],t++;if(e[t]!==c)throw new Error(`Unterminated ${s} value`);return t++,[t,o]}readElementExp(e,t){t=_(e,t);let s="";for(;t<e.length&&!/\s/.test(e[t]);)s+=e[t],t++;if(!this.suppressValidationErr&&!we(s))throw new Error(`Invalid element name: "${s}"`);t=_(e,t);let o="";if(e[t]==="E"&&Z(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Z(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)o+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:s,contentModel:o.trim(),index:t}}readAttlistExp(e,t){t=_(e,t);let s="";for(;t<e.length&&!/\s/.test(e[t]);)s+=e[t],t++;fe(s),t=_(e,t);let o="";for(;t<e.length&&!/\s/.test(e[t]);)o+=e[t],t++;if(!fe(o))throw new Error(`Invalid attribute name: "${o}"`);t=_(e,t);let c="";if(e.substring(t,t+8).toUpperCase()==="NOTATION"){if(c="NOTATION",t+=8,t=_(e,t),e[t]!=="(")throw new Error(`Expected '(', found "${e[t]}"`);t++;let u=[];for(;t<e.length&&e[t]!==")";){let p="";for(;t<e.length&&e[t]!=="|"&&e[t]!==")";)p+=e[t],t++;if(p=p.trim(),!fe(p))throw new Error(`Invalid notation name: "${p}"`);u.push(p),e[t]==="|"&&(t++,t=_(e,t))}if(e[t]!==")")throw new Error("Unterminated list of notations");t++,c+=" ("+u.join("|")+")"}else{for(;t<e.length&&!/\s/.test(e[t]);)c+=e[t],t++;const u=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!u.includes(c.toUpperCase()))throw new Error(`Invalid attribute type: "${c}"`)}t=_(e,t);let l="";return e.substring(t,t+8).toUpperCase()==="#REQUIRED"?(l="#REQUIRED",t+=8):e.substring(t,t+7).toUpperCase()==="#IMPLIED"?(l="#IMPLIED",t+=7):[t,l]=this.readIdentifierVal(e,t,"ATTLIST"),{elementName:s,attributeName:o,attributeType:c,defaultValue:l,index:t}}}const _=(i,e)=>{for(;e<i.length&&/\s/.test(i[e]);)e++;return e};function Z(i,e,t){for(let s=0;s<e.length;s++)if(e[s]!==i[t+s+1])return!1;return!0}function fe(i){if(we(i))return i;throw new Error(`Invalid entity name ${i}`)}const ni=/^[-+]?0x[a-fA-F0-9]+$/,si=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,oi={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function ai(i,e={}){if(e=Object.assign({},oi,e),!i||typeof i!="string")return i;let t=i.trim();if(e.skipLike!==void 0&&e.skipLike.test(t))return i;if(i==="0")return 0;if(e.hex&&ni.test(t))return li(t,16);if(t.includes("e")||t.includes("E"))return fi(i,t,e);{const s=si.exec(t);if(s){const o=s[1]||"",c=s[2];let l=ui(s[3]);const u=o?i[c.length+1]===".":i[c.length]===".";if(!e.leadingZeros&&(c.length>1||c.length===1&&!u))return i;{const p=Number(t),d=String(p);if(p===0)return p;if(d.search(/[eE]/)!==-1)return e.eNotation?p:i;if(t.indexOf(".")!==-1)return d==="0"||d===l||d===`${o}${l}`?p:i;let w=c?l:t;return c?w===d||o+w===d?p:i:w===d||w===o+d?p:i}}else return i}}const ci=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function fi(i,e,t){if(!t.eNotation)return i;const s=e.match(ci);if(s){let o=s[1]||"";const c=s[3].indexOf("e")===-1?"E":"e",l=s[2],u=o?i[l.length+1]===c:i[l.length]===c;return l.length>1&&u?i:l.length===1&&(s[3].startsWith(`.${c}`)||s[3][0]===c)?Number(e):t.leadingZeros&&!u?(e=(s[1]||"")+s[3],Number(e)):i}else return i}function ui(i){return i&&i.indexOf(".")!==-1&&(i=i.replace(/0+$/,""),i==="."?i="0":i[0]==="."?i="0"+i:i[i.length-1]==="."&&(i=i.substring(0,i.length-1))),i}function li(i,e){if(parseInt)return parseInt(i,e);if(Number.parseInt)return Number.parseInt(i,e);if(window&&window.parseInt)return window.parseInt(i,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function lt(i){return typeof i=="function"?i:Array.isArray(i)?e=>{for(const t of i)if(typeof t=="string"&&e===t||t instanceof RegExp&&t.test(e))return!0}:()=>!1}class hi{constructor(e){if(this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,s)=>String.fromCodePoint(Number.parseInt(s,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,s)=>String.fromCodePoint(Number.parseInt(s,16))}},this.addExternalEntities=pi,this.parseXml=wi,this.parseTextData=di,this.resolveNameSpace=mi,this.buildAttributesMap=gi,this.isItStopNode=ki,this.replaceEntitiesValue=bi,this.readStopNodeData=Ci,this.saveTextToParentTag=Ei,this.addChild=yi,this.ignoreAttributesFn=lt(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let t=0;t<this.options.stopNodes.length;t++){const s=this.options.stopNodes[t];typeof s=="string"&&(s.startsWith("*.")?this.stopNodesWildcard.add(s.substring(2)):this.stopNodesExact.add(s))}}}}function pi(i){const e=Object.keys(i);for(let t=0;t<e.length;t++){const s=e[t];this.lastEntities[s]={regex:new RegExp("&"+s+";","g"),val:i[s]}}}function di(i,e,t,s,o,c,l){if(i!==void 0&&(this.options.trimValues&&!s&&(i=i.trim()),i.length>0)){l||(i=this.replaceEntitiesValue(i));const u=this.options.tagValueProcessor(e,i,t,o,c);return u==null?i:typeof u!=typeof i||u!==i?u:this.options.trimValues?Ue(i,this.options.parseTagValue,this.options.numberParseOptions):i.trim()===i?Ue(i,this.options.parseTagValue,this.options.numberParseOptions):i}}function mi(i){if(this.options.removeNSPrefix){const e=i.split(":"),t=i.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(i=t+e[1])}return i}const xi=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function gi(i,e){if(this.options.ignoreAttributes!==!0&&typeof i=="string"){const t=ut(i,xi),s=t.length,o={};for(let c=0;c<s;c++){const l=this.resolveNameSpace(t[c][1]);if(this.ignoreAttributesFn(l,e))continue;let u=t[c][4],p=this.options.attributeNamePrefix+l;if(l.length)if(this.options.transformAttributeName&&(p=this.options.transformAttributeName(p)),p==="__proto__"&&(p="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);const d=this.options.attributeValueProcessor(l,u,e);d==null?o[p]=u:typeof d!=typeof u||d!==u?o[p]=d:o[p]=Ue(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[p]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const c={};return c[this.options.attributesGroupName]=o,c}return o}}const wi=function(i){i=i.replace(/\r\n?/g,`
`);const e=new Q("!xml");let t=e,s="",o="";const c=new ri(this.options.processEntities);for(let l=0;l<i.length;l++)if(i[l]==="<")if(i[l+1]==="/"){const p=K(i,">",l,"Closing Tag is not closed.");let d=i.substring(l+2,p).trim();if(this.options.removeNSPrefix){const b=d.indexOf(":");b!==-1&&(d=d.substr(b+1))}this.options.transformTagName&&(d=this.options.transformTagName(d)),t&&(s=this.saveTextToParentTag(s,t,o));const w=o.substring(o.lastIndexOf(".")+1);if(d&&this.options.unpairedTags.indexOf(d)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${d}>`);let m=0;w&&this.options.unpairedTags.indexOf(w)!==-1?(m=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):m=o.lastIndexOf("."),o=o.substring(0,m),t=this.tagsNodeStack.pop(),s="",l=p}else if(i[l+1]==="?"){let p=Re(i,l,!1,"?>");if(!p)throw new Error("Pi Tag is not closed.");if(s=this.saveTextToParentTag(s,t,o),!(this.options.ignoreDeclaration&&p.tagName==="?xml"||this.options.ignorePiTags)){const d=new Q(p.tagName);d.add(this.options.textNodeName,""),p.tagName!==p.tagExp&&p.attrExpPresent&&(d[":@"]=this.buildAttributesMap(p.tagExp,o)),this.addChild(t,d,o,l)}l=p.closeIndex+1}else if(i.substr(l+1,3)==="!--"){const p=K(i,"-->",l+4,"Comment is not closed.");if(this.options.commentPropName){const d=i.substring(l+4,p-2);s=this.saveTextToParentTag(s,t,o),t.add(this.options.commentPropName,[{[this.options.textNodeName]:d}])}l=p}else if(i.substr(l+1,2)==="!D"){const p=c.readDocType(i,l);this.docTypeEntities=p.entities,l=p.i}else if(i.substr(l+1,2)==="!["){const p=K(i,"]]>",l,"CDATA is not closed.")-2,d=i.substring(l+9,p);s=this.saveTextToParentTag(s,t,o);let w=this.parseTextData(d,t.tagname,o,!0,!1,!0,!0);w==null&&(w=""),this.options.cdataPropName?t.add(this.options.cdataPropName,[{[this.options.textNodeName]:d}]):t.add(this.options.textNodeName,w),l=p+2}else{let p=Re(i,l,this.options.removeNSPrefix),d=p.tagName;const w=p.rawTagName;let m=p.tagExp,b=p.attrExpPresent,y=p.closeIndex;if(this.options.transformTagName){const k=this.options.transformTagName(d);m===d&&(m=k),d=k}t&&s&&t.tagname!=="!xml"&&(s=this.saveTextToParentTag(s,t,o,!1));const E=t;E&&this.options.unpairedTags.indexOf(E.tagname)!==-1&&(t=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),d!==e.tagname&&(o+=o?"."+d:d);const F=l;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,o,d)){let k="";if(m.length>0&&m.lastIndexOf("/")===m.length-1)d[d.length-1]==="/"?(d=d.substr(0,d.length-1),o=o.substr(0,o.length-1),m=d):m=m.substr(0,m.length-1),l=p.closeIndex;else if(this.options.unpairedTags.indexOf(d)!==-1)l=p.closeIndex;else{const A=this.readStopNodeData(i,w,y+1);if(!A)throw new Error(`Unexpected end of ${w}`);l=A.i,k=A.tagContent}const B=new Q(d);d!==m&&b&&(B[":@"]=this.buildAttributesMap(m,o)),k&&(k=this.parseTextData(k,d,o,!0,b,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),B.add(this.options.textNodeName,k),this.addChild(t,B,o,F)}else{if(m.length>0&&m.lastIndexOf("/")===m.length-1){if(d[d.length-1]==="/"?(d=d.substr(0,d.length-1),o=o.substr(0,o.length-1),m=d):m=m.substr(0,m.length-1),this.options.transformTagName){const B=this.options.transformTagName(d);m===d&&(m=B),d=B}const k=new Q(d);d!==m&&b&&(k[":@"]=this.buildAttributesMap(m,o)),this.addChild(t,k,o,F),o=o.substr(0,o.lastIndexOf("."))}else{const k=new Q(d);this.tagsNodeStack.push(t),d!==m&&b&&(k[":@"]=this.buildAttributesMap(m,o)),this.addChild(t,k,o,F),t=k}s="",l=y}}else s+=i[l];return e.child};function yi(i,e,t,s){this.options.captureMetaData||(s=void 0);const o=this.options.updateTag(e.tagname,t,e[":@"]);o===!1||(typeof o=="string"&&(e.tagname=o),i.addChild(e,s))}const bi=function(i){if(this.options.processEntities){for(let e in this.docTypeEntities){const t=this.docTypeEntities[e];i=i.replace(t.regx,t.val)}for(let e in this.lastEntities){const t=this.lastEntities[e];i=i.replace(t.regex,t.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const t=this.htmlEntities[e];i=i.replace(t.regex,t.val)}i=i.replace(this.ampEntity.regex,this.ampEntity.val)}return i};function Ei(i,e,t,s){return i&&(s===void 0&&(s=e.child.length===0),i=this.parseTextData(i,e.tagname,t,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,s),i!==void 0&&i!==""&&e.add(this.options.textNodeName,i),i=""),i}function ki(i,e,t,s){return!!(e&&e.has(s)||i&&i.has(t))}function Fi(i,e,t=">"){let s,o="";for(let c=e;c<i.length;c++){let l=i[c];if(s)l===s&&(s="");else if(l==='"'||l==="'")s=l;else if(l===t[0])if(t[1]){if(i[c+1]===t[1])return{data:o,index:c}}else return{data:o,index:c};else l==="	"&&(l=" ");o+=l}}function K(i,e,t,s){const o=i.indexOf(e,t);if(o===-1)throw new Error(s);return o+e.length-1}function Re(i,e,t,s=">"){const o=Fi(i,e+1,s);if(!o)return;let c=o.data;const l=o.index,u=c.search(/\s/);let p=c,d=!0;u!==-1&&(p=c.substring(0,u),c=c.substring(u+1).trimStart());const w=p;if(t){const m=p.indexOf(":");m!==-1&&(p=p.substr(m+1),d=p!==o.data.substr(m+1))}return{tagName:p,tagExp:c,closeIndex:l,attrExpPresent:d,rawTagName:w}}function Ci(i,e,t){const s=t;let o=1;for(;t<i.length;t++)if(i[t]==="<")if(i[t+1]==="/"){const c=K(i,">",t,`${e} is not closed`);if(i.substring(t+2,c).trim()===e&&(o--,o===0))return{tagContent:i.substring(s,t),i:c};t=c}else if(i[t+1]==="?")t=K(i,"?>",t+1,"StopNode is not closed.");else if(i.substr(t+1,3)==="!--")t=K(i,"-->",t+3,"StopNode is not closed.");else if(i.substr(t+1,2)==="![")t=K(i,"]]>",t,"StopNode is not closed.")-2;else{const c=Re(i,t,">");c&&((c&&c.tagName)===e&&c.tagExp[c.tagExp.length-1]!=="/"&&o++,t=c.closeIndex)}}function Ue(i,e,t){if(e&&typeof i=="string"){const s=i.trim();return s==="true"?!0:s==="false"?!1:ai(i,t)}else return Gt(i)?i:""}const Be=Q.getMetaDataSymbol();function Bi(i,e){return ht(i,e)}function ht(i,e,t){let s;const o={};for(let c=0;c<i.length;c++){const l=i[c],u=Ai(l);let p="";if(t===void 0?p=u:p=t+"."+u,u===e.textNodeName)s===void 0?s=l[u]:s+=""+l[u];else{if(u===void 0)continue;if(l[u]){let d=ht(l[u],e,p);const w=Ti(d,e);l[Be]!==void 0&&(d[Be]=l[Be]),l[":@"]?Ii(d,l[":@"],p,e):Object.keys(d).length===1&&d[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?d=d[e.textNodeName]:Object.keys(d).length===0&&(e.alwaysCreateTextNode?d[e.textNodeName]="":d=""),o[u]!==void 0&&o.hasOwnProperty(u)?(Array.isArray(o[u])||(o[u]=[o[u]]),o[u].push(d)):e.isArray(u,p,w)?o[u]=[d]:o[u]=d}}}return typeof s=="string"?s.length>0&&(o[e.textNodeName]=s):s!==void 0&&(o[e.textNodeName]=s),o}function Ai(i){const e=Object.keys(i);for(let t=0;t<e.length;t++){const s=e[t];if(s!==":@")return s}}function Ii(i,e,t,s){if(e){const o=Object.keys(e),c=o.length;for(let l=0;l<c;l++){const u=o[l];s.isArray(u,t+"."+u,!0,!0)?i[u]=[e[u]]:i[u]=e[u]}}}function Ti(i,e){const{textNodeName:t}=e,s=Object.keys(i).length;return!!(s===0||s===1&&(i[t]||typeof i[t]=="boolean"||i[t]===0))}class pt{constructor(e){this.externalEntities={},this.options=ii(e)}parse(e,t){if(typeof e!="string"&&e.toString)e=e.toString();else if(typeof e!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(t){t===!0&&(t={});const c=Ht(e,t);if(c!==!0)throw Error(`${c.err.msg}:${c.err.line}:${c.err.col}`)}const s=new hi(this.options);s.addExternalEntities(this.externalEntities);const o=s.parseXml(e);return this.options.preserveOrder||o===void 0?o:Bi(o,this.options)}addEntity(e,t){if(t.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(t==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}static getMetaDataSymbol(){return Q.getMetaDataSymbol()}}const Si=`
`;function Ni(i,e){let t="";return e.format&&e.indentBy.length>0&&(t=Si),dt(i,e,"",t)}function dt(i,e,t,s){let o="",c=!1;for(let l=0;l<i.length;l++){const u=i[l],p=vi(u);if(p===void 0)continue;let d="";if(t.length===0?d=p:d=`${t}.${p}`,p===e.textNodeName){let E=u[p];Ri(d,e)||(E=e.tagValueProcessor(p,E),E=mt(E,e)),c&&(o+=s),o+=E,c=!1;continue}else if(p===e.cdataPropName){c&&(o+=s),o+=`<![CDATA[${u[p][0][e.textNodeName]}]]>`,c=!1;continue}else if(p===e.commentPropName){o+=s+`<!--${u[p][0][e.textNodeName]}-->`,c=!0;continue}else if(p[0]==="?"){const E=De(u[":@"],e),F=p==="?xml"?"":s;let k=u[p][0][e.textNodeName];k=k.length!==0?" "+k:"",o+=F+`<${p}${k}${E}?>`,c=!0;continue}let w=s;w!==""&&(w+=e.indentBy);const m=De(u[":@"],e),b=s+`<${p}${m}`,y=dt(u[p],e,d,w);e.unpairedTags.indexOf(p)!==-1?e.suppressUnpairedNode?o+=b+">":o+=b+"/>":(!y||y.length===0)&&e.suppressEmptyNode?o+=b+"/>":y&&y.endsWith(">")?o+=b+`>${y}${s}</${p}>`:(o+=b+">",y&&s!==""&&(y.includes("/>")||y.includes("</"))?o+=s+e.indentBy+y+s:o+=y,o+=`</${p}>`),c=!0}return o}function vi(i){const e=Object.keys(i);for(let t=0;t<e.length;t++){const s=e[t];if(i.hasOwnProperty(s)&&s!==":@")return s}}function De(i,e){let t="";if(i&&!e.ignoreAttributes)for(let s in i){if(!i.hasOwnProperty(s))continue;let o=e.attributeValueProcessor(s,i[s]);o=mt(o,e),o===!0&&e.suppressBooleanAttributes?t+=` ${s.substr(e.attributeNamePrefix.length)}`:t+=` ${s.substr(e.attributeNamePrefix.length)}="${o}"`}return t}function Ri(i,e){i=i.substr(0,i.length-e.textNodeName.length-1);let t=i.substr(i.lastIndexOf(".")+1);for(let s in e.stopNodes)if(e.stopNodes[s]===i||e.stopNodes[s]==="*."+t)return!0;return!1}function mt(i,e){if(i&&i.length>0&&e.processEntities)for(let t=0;t<e.entities.length;t++){const s=e.entities[t];i=i.replace(s.regex,s.val)}return i}const Ui={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(i,e){return e},attributeValueProcessor:function(i,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Y(i){this.options=Object.assign({},Ui,i),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=lt(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Mi),this.processTextOrObjNode=Oi,this.options.format?(this.indentate=Pi,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Y.prototype.build=function(i){return this.options.preserveOrder?Ni(i,this.options):(Array.isArray(i)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(i={[this.options.arrayNodeName]:i}),this.j2x(i,0,[]).val)};Y.prototype.j2x=function(i,e,t){let s="",o="";const c=t.join(".");for(let l in i)if(Object.prototype.hasOwnProperty.call(i,l))if(typeof i[l]>"u")this.isAttribute(l)&&(o+="");else if(i[l]===null)this.isAttribute(l)||l===this.options.cdataPropName?o+="":l[0]==="?"?o+=this.indentate(e)+"<"+l+"?"+this.tagEndChar:o+=this.indentate(e)+"<"+l+"/"+this.tagEndChar;else if(i[l]instanceof Date)o+=this.buildTextValNode(i[l],l,"",e);else if(typeof i[l]!="object"){const u=this.isAttribute(l);if(u&&!this.ignoreAttributesFn(u,c))s+=this.buildAttrPairStr(u,""+i[l]);else if(!u)if(l===this.options.textNodeName){let p=this.options.tagValueProcessor(l,""+i[l]);o+=this.replaceEntitiesValue(p)}else o+=this.buildTextValNode(i[l],l,"",e)}else if(Array.isArray(i[l])){const u=i[l].length;let p="",d="";for(let w=0;w<u;w++){const m=i[l][w];if(!(typeof m>"u"))if(m===null)l[0]==="?"?o+=this.indentate(e)+"<"+l+"?"+this.tagEndChar:o+=this.indentate(e)+"<"+l+"/"+this.tagEndChar;else if(typeof m=="object")if(this.options.oneListGroup){const b=this.j2x(m,e+1,t.concat(l));p+=b.val,this.options.attributesGroupName&&m.hasOwnProperty(this.options.attributesGroupName)&&(d+=b.attrStr)}else p+=this.processTextOrObjNode(m,l,e,t);else if(this.options.oneListGroup){let b=this.options.tagValueProcessor(l,m);b=this.replaceEntitiesValue(b),p+=b}else p+=this.buildTextValNode(m,l,"",e)}this.options.oneListGroup&&(p=this.buildObjectNode(p,l,d,e)),o+=p}else if(this.options.attributesGroupName&&l===this.options.attributesGroupName){const u=Object.keys(i[l]),p=u.length;for(let d=0;d<p;d++)s+=this.buildAttrPairStr(u[d],""+i[l][u[d]])}else o+=this.processTextOrObjNode(i[l],l,e,t);return{attrStr:s,val:o}};Y.prototype.buildAttrPairStr=function(i,e){return e=this.options.attributeValueProcessor(i,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+i:" "+i+'="'+e+'"'};function Oi(i,e,t,s){const o=this.j2x(i,t+1,s.concat(e));return i[this.options.textNodeName]!==void 0&&Object.keys(i).length===1?this.buildTextValNode(i[this.options.textNodeName],e,o.attrStr,t):this.buildObjectNode(o.val,e,o.attrStr,t)}Y.prototype.buildObjectNode=function(i,e,t,s){if(i==="")return e[0]==="?"?this.indentate(s)+"<"+e+t+"?"+this.tagEndChar:this.indentate(s)+"<"+e+t+this.closeTag(e)+this.tagEndChar;{let o="</"+e+this.tagEndChar,c="";return e[0]==="?"&&(c="?",o=""),(t||t==="")&&i.indexOf("<")===-1?this.indentate(s)+"<"+e+t+c+">"+i+o:this.options.commentPropName!==!1&&e===this.options.commentPropName&&c.length===0?this.indentate(s)+`<!--${i}-->`+this.newLine:this.indentate(s)+"<"+e+t+c+this.tagEndChar+i+this.indentate(s)+o}};Y.prototype.closeTag=function(i){let e="";return this.options.unpairedTags.indexOf(i)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${i}`,e};Y.prototype.buildTextValNode=function(i,e,t,s){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(s)+`<![CDATA[${i}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(s)+`<!--${i}-->`+this.newLine;if(e[0]==="?")return this.indentate(s)+"<"+e+t+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(e,i);return o=this.replaceEntitiesValue(o),o===""?this.indentate(s)+"<"+e+t+this.closeTag(e)+this.tagEndChar:this.indentate(s)+"<"+e+t+">"+o+"</"+e+this.tagEndChar}};Y.prototype.replaceEntitiesValue=function(i){if(i&&i.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const t=this.options.entities[e];i=i.replace(t.regex,t.val)}return i};function Pi(i){return this.options.indentBy.repeat(i)}function Mi(i){return i.startsWith(this.options.attributeNamePrefix)&&i!==this.options.textNodeName?i.substr(this.attrPrefixLen):!1}const Oe={Request:"ProcessWebServiceRequest",RequestMultiWeb:"ProcessWebServiceRequestMultiWeb"},J={Gradebook:"Gradebook",Attendance:"Attendance",StudentInfo:"StudentInfo",Documents:"GetStudentDocumentInitialData",ReportCard:"GetReportCardDocumentData",Mail:"SynergyMailGetData",Attachment:"SynergyMailGetAttachment"},Li=["Gradebook.Courses.Course","Gradebook.Courses.Course.Marks.Mark.Assignments.Assignment","Gradebook.ReportingPeriods.ReportPeriod","Attendance.Absences.Absence"],zi=new pt({ignoreDeclaration:!0}),_i=new pt({ignoreAttributes:!1,ignoreDeclaration:!0,attributeNamePrefix:"_",isArray:(i,e)=>Li.includes(e)}),Qe=new Y({ignoreAttributes:!1,attributeNamePrefix:"_"}),$i=(i,e)=>zi.parse(i)["soap:Envelope"]["soap:Body"][`${e}Response`][`${e}Result`];function xt(i){const e=_i.parse(i);if(e.RT_ERROR)throw new Error(e.RT_ERROR._ERROR_MESSAGE);return e}async function gt(i,e,{domain:t,userID:s,password:o},c={}){const l=await fetch(`https://${t}/Service/PXPCommunication.asmx`,{method:"POST",headers:{"Content-Type":"application/soap+xml; charset=utf-8"},body:Qe.build({"soap12:Envelope":{"_xmlns:soap12":"http://www.w3.org/2003/05/soap-envelope","soap12:Body":{[i]:{_xmlns:"http://edupoint.com/webservices/",userID:s,password:o,skipLoginLog:!0,parent:!1,webServiceHandleName:"PXPWebServices",methodName:e,paramStr:Qe.build({Params:c})}}}})});if(l.status!==200)throw new Error(`HTTP ${l.status} when requesting ${i}`);return l}async function wt(i,e,t,s={}){const c=await(await gt(i,e,t,s)).text(),l=$i(c,i);return xt(l)}const D=(i,e,t={})=>wt(Oe.Request,i,e,t),Vi=(i,e,t={})=>wt(Oe.RequestMultiWeb,i,e,t),Pr=i=>xt(i).Gradebook;class ji{domain;userID;password;constructor(e,t,s){this.domain=e,this.userID=t,this.password=s}get credentials(){return{domain:this.domain,userID:this.userID,password:this.password}}async checkLogin(){await D("StudentInfo",this.credentials)}async gradebookRequest(e){const t=e?{ReportPeriod:e}:void 0;return await gt(Oe.Request,J.Gradebook,this.credentials,t)}async attendance(){return(await D(J.Attendance,this.credentials)).Attendance}async studentInfo(){return(await D(J.StudentInfo,this.credentials)).StudentInfo}async documents(){return(await D(J.Documents,this.credentials)).StudentDocuments}async reportCard(e){return(await D(J.ReportCard,this.credentials,{DocumentGU:e})).DocumentData}async mailData(){return(await D(J.Mail,this.credentials)).SynergyMailDataXML}async attachment(e){return(await D(J.Attachment,this.credentials,{SmAttachmentGU:e})).AttachmentXML}async getAuthToken(){return(await Vi("GenerateAuthToken",this.credentials,{Username:this.userID,TokenForClassWebSite:!0,Usertype:0,IsParentStudent:0,DataString:"",DocumentID:1,AssignmentID:1})).AuthToken}}function qi(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ae={},ue={},Ke;function Gi(){if(Ke)return ue;Ke=1,ue.byteLength=u,ue.toByteArray=d,ue.fromByteArray=b;for(var i=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=s.length;o<c;++o)i[o]=s[o],e[s.charCodeAt(o)]=o;e[45]=62,e[95]=63;function l(y){var E=y.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var F=y.indexOf("=");F===-1&&(F=E);var k=F===E?0:4-F%4;return[F,k]}function u(y){var E=l(y),F=E[0],k=E[1];return(F+k)*3/4-k}function p(y,E,F){return(E+F)*3/4-F}function d(y){var E,F=l(y),k=F[0],B=F[1],A=new t(p(y,k,B)),O=0,W=B>0?k-4:k,T;for(T=0;T<W;T+=4)E=e[y.charCodeAt(T)]<<18|e[y.charCodeAt(T+1)]<<12|e[y.charCodeAt(T+2)]<<6|e[y.charCodeAt(T+3)],A[O++]=E>>16&255,A[O++]=E>>8&255,A[O++]=E&255;return B===2&&(E=e[y.charCodeAt(T)]<<2|e[y.charCodeAt(T+1)]>>4,A[O++]=E&255),B===1&&(E=e[y.charCodeAt(T)]<<10|e[y.charCodeAt(T+1)]<<4|e[y.charCodeAt(T+2)]>>2,A[O++]=E>>8&255,A[O++]=E&255),A}function w(y){return i[y>>18&63]+i[y>>12&63]+i[y>>6&63]+i[y&63]}function m(y,E,F){for(var k,B=[],A=E;A<F;A+=3)k=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(y[A+2]&255),B.push(w(k));return B.join("")}function b(y){for(var E,F=y.length,k=F%3,B=[],A=16383,O=0,W=F-k;O<W;O+=A)B.push(m(y,O,O+A>W?W:O+A));return k===1?(E=y[F-1],B.push(i[E>>2]+i[E<<4&63]+"==")):k===2&&(E=(y[F-2]<<8)+y[F-1],B.push(i[E>>10]+i[E>>4&63]+i[E<<2&63]+"=")),B.join("")}return ue}var pe={};var et;function yt(){return et||(et=1,pe.read=function(i,e,t,s,o){var c,l,u=o*8-s-1,p=(1<<u)-1,d=p>>1,w=-7,m=t?o-1:0,b=t?-1:1,y=i[e+m];for(m+=b,c=y&(1<<-w)-1,y>>=-w,w+=u;w>0;c=c*256+i[e+m],m+=b,w-=8);for(l=c&(1<<-w)-1,c>>=-w,w+=s;w>0;l=l*256+i[e+m],m+=b,w-=8);if(c===0)c=1-d;else{if(c===p)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,s),c=c-d}return(y?-1:1)*l*Math.pow(2,c-s)},pe.write=function(i,e,t,s,o,c){var l,u,p,d=c*8-o-1,w=(1<<d)-1,m=w>>1,b=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=s?0:c-1,E=s?1:-1,F=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=w):(l=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+m>=1?e+=b/p:e+=b*Math.pow(2,1-m),e*p>=2&&(l++,p/=2),l+m>=w?(u=0,l=w):l+m>=1?(u=(e*p-1)*Math.pow(2,o),l=l+m):(u=e*Math.pow(2,m-1)*Math.pow(2,o),l=0));o>=8;i[t+y]=u&255,y+=E,u/=256,o-=8);for(l=l<<o|u,d+=o;d>0;i[t+y]=l&255,y+=E,l/=256,d-=8);i[t+y-E]|=F*128}),pe}var tt;function Wi(){return tt||(tt=1,(function(i){const e=Gi(),t=yt(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=u,i.SlowBuffer=A,i.INSPECT_MAX_BYTES=50;const o=2147483647;i.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const a=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(a,r),a.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(a){if(a>o)throw new RangeError('The value "'+a+'" is invalid for option "size"');const r=new Uint8Array(a);return Object.setPrototypeOf(r,u.prototype),r}function u(a,r,n){if(typeof a=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(a)}return p(a,r,n)}u.poolSize=8192;function p(a,r,n){if(typeof a=="string")return b(a,r);if(ArrayBuffer.isView(a))return E(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(j(a,ArrayBuffer)||a&&j(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(j(a,SharedArrayBuffer)||a&&j(a.buffer,SharedArrayBuffer)))return F(a,r,n);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const f=a.valueOf&&a.valueOf();if(f!=null&&f!==a)return u.from(f,r,n);const h=k(a);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return u.from(a[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}u.from=function(a,r,n){return p(a,r,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function d(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function w(a,r,n){return d(a),a<=0?l(a):r!==void 0?typeof n=="string"?l(a).fill(r,n):l(a).fill(r):l(a)}u.alloc=function(a,r,n){return w(a,r,n)};function m(a){return d(a),l(a<0?0:B(a)|0)}u.allocUnsafe=function(a){return m(a)},u.allocUnsafeSlow=function(a){return m(a)};function b(a,r){if((typeof r!="string"||r==="")&&(r="utf8"),!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);const n=O(a,r)|0;let f=l(n);const h=f.write(a,r);return h!==n&&(f=f.slice(0,h)),f}function y(a){const r=a.length<0?0:B(a.length)|0,n=l(r);for(let f=0;f<r;f+=1)n[f]=a[f]&255;return n}function E(a){if(j(a,Uint8Array)){const r=new Uint8Array(a);return F(r.buffer,r.byteOffset,r.byteLength)}return y(a)}function F(a,r,n){if(r<0||a.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<r+(n||0))throw new RangeError('"length" is outside of buffer bounds');let f;return r===void 0&&n===void 0?f=new Uint8Array(a):n===void 0?f=new Uint8Array(a,r):f=new Uint8Array(a,r,n),Object.setPrototypeOf(f,u.prototype),f}function k(a){if(u.isBuffer(a)){const r=B(a.length)|0,n=l(r);return n.length===0||a.copy(n,0,0,r),n}if(a.length!==void 0)return typeof a.length!="number"||Ce(a.length)?l(0):y(a);if(a.type==="Buffer"&&Array.isArray(a.data))return y(a.data)}function B(a){if(a>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return a|0}function A(a){return+a!=a&&(a=0),u.alloc(+a)}u.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==u.prototype},u.compare=function(r,n){if(j(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),j(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),!u.isBuffer(r)||!u.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===n)return 0;let f=r.length,h=n.length;for(let x=0,g=Math.min(f,h);x<g;++x)if(r[x]!==n[x]){f=r[x],h=n[x];break}return f<h?-1:h<f?1:0},u.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(r,n){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return u.alloc(0);let f;if(n===void 0)for(n=0,f=0;f<r.length;++f)n+=r[f].length;const h=u.allocUnsafe(n);let x=0;for(f=0;f<r.length;++f){let g=r[f];if(j(g,Uint8Array))x+g.length>h.length?(u.isBuffer(g)||(g=u.from(g)),g.copy(h,x)):Uint8Array.prototype.set.call(h,g,x);else if(u.isBuffer(g))g.copy(h,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=g.length}return h};function O(a,r){if(u.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||j(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);const n=a.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&n===0)return 0;let h=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Fe(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return He(a).length;default:if(h)return f?-1:Fe(a).length;r=(""+r).toLowerCase(),h=!0}}u.byteLength=O;function W(a,r,n){let f=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,r>>>=0,n<=r))return"";for(a||(a="utf8");;)switch(a){case"hex":return vt(this,r,n);case"utf8":case"utf-8":return Le(this,r,n);case"ascii":return St(this,r,n);case"latin1":case"binary":return Nt(this,r,n);case"base64":return It(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rt(this,r,n);default:if(f)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),f=!0}}u.prototype._isBuffer=!0;function T(a,r,n){const f=a[r];a[r]=a[n],a[n]=f}u.prototype.swap16=function(){const r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<r;n+=2)T(this,n,n+1);return this},u.prototype.swap32=function(){const r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<r;n+=4)T(this,n,n+3),T(this,n+1,n+2);return this},u.prototype.swap64=function(){const r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<r;n+=8)T(this,n,n+7),T(this,n+1,n+6),T(this,n+2,n+5),T(this,n+3,n+4);return this},u.prototype.toString=function(){const r=this.length;return r===0?"":arguments.length===0?Le(this,0,r):W.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(r){if(!u.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:u.compare(this,r)===0},u.prototype.inspect=function(){let r="";const n=i.INSPECT_MAX_BYTES;return r=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(r+=" ... "),"<Buffer "+r+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(r,n,f,h,x){if(j(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),!u.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(n===void 0&&(n=0),f===void 0&&(f=r?r.length:0),h===void 0&&(h=0),x===void 0&&(x=this.length),n<0||f>r.length||h<0||x>this.length)throw new RangeError("out of range index");if(h>=x&&n>=f)return 0;if(h>=x)return-1;if(n>=f)return 1;if(n>>>=0,f>>>=0,h>>>=0,x>>>=0,this===r)return 0;let g=x-h,C=f-n;const N=Math.min(g,C),S=this.slice(h,x),v=r.slice(n,f);for(let I=0;I<N;++I)if(S[I]!==v[I]){g=S[I],C=v[I];break}return g<C?-1:C<g?1:0};function ye(a,r,n,f,h){if(a.length===0)return-1;if(typeof n=="string"?(f=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Ce(n)&&(n=h?0:a.length-1),n<0&&(n=a.length+n),n>=a.length){if(h)return-1;n=a.length-1}else if(n<0)if(h)n=0;else return-1;if(typeof r=="string"&&(r=u.from(r,f)),u.isBuffer(r))return r.length===0?-1:te(a,r,n,f,h);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(a,r,n):Uint8Array.prototype.lastIndexOf.call(a,r,n):te(a,[r],n,f,h);throw new TypeError("val must be string, number or Buffer")}function te(a,r,n,f,h){let x=1,g=a.length,C=r.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(a.length<2||r.length<2)return-1;x=2,g/=2,C/=2,n/=2}function N(v,I){return x===1?v[I]:v.readUInt16BE(I*x)}let S;if(h){let v=-1;for(S=n;S<g;S++)if(N(a,S)===N(r,v===-1?0:S-v)){if(v===-1&&(v=S),S-v+1===C)return v*x}else v!==-1&&(S-=S-v),v=-1}else for(n+C>g&&(n=g-C),S=n;S>=0;S--){let v=!0;for(let I=0;I<C;I++)if(N(a,S+I)!==N(r,I)){v=!1;break}if(v)return S}return-1}u.prototype.includes=function(r,n,f){return this.indexOf(r,n,f)!==-1},u.prototype.indexOf=function(r,n,f){return ye(this,r,n,f,!0)},u.prototype.lastIndexOf=function(r,n,f){return ye(this,r,n,f,!1)};function be(a,r,n,f){n=Number(n)||0;const h=a.length-n;f?(f=Number(f),f>h&&(f=h)):f=h;const x=r.length;f>x/2&&(f=x/2);let g;for(g=0;g<f;++g){const C=parseInt(r.substr(g*2,2),16);if(Ce(C))return g;a[n+g]=C}return g}function le(a,r,n,f){return he(Fe(r,a.length-n),a,n,f)}function Ee(a,r,n,f){return he(Mt(r),a,n,f)}function Bt(a,r,n,f){return he(He(r),a,n,f)}function At(a,r,n,f){return he(Lt(r,a.length-n),a,n,f)}u.prototype.write=function(r,n,f,h){if(n===void 0)h="utf8",f=this.length,n=0;else if(f===void 0&&typeof n=="string")h=n,f=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(f)?(f=f>>>0,h===void 0&&(h="utf8")):(h=f,f=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const x=this.length-n;if((f===void 0||f>x)&&(f=x),r.length>0&&(f<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let g=!1;for(;;)switch(h){case"hex":return be(this,r,n,f);case"utf8":case"utf-8":return le(this,r,n,f);case"ascii":case"latin1":case"binary":return Ee(this,r,n,f);case"base64":return Bt(this,r,n,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return At(this,r,n,f);default:if(g)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),g=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function It(a,r,n){return r===0&&n===a.length?e.fromByteArray(a):e.fromByteArray(a.slice(r,n))}function Le(a,r,n){n=Math.min(a.length,n);const f=[];let h=r;for(;h<n;){const x=a[h];let g=null,C=x>239?4:x>223?3:x>191?2:1;if(h+C<=n){let N,S,v,I;switch(C){case 1:x<128&&(g=x);break;case 2:N=a[h+1],(N&192)===128&&(I=(x&31)<<6|N&63,I>127&&(g=I));break;case 3:N=a[h+1],S=a[h+2],(N&192)===128&&(S&192)===128&&(I=(x&15)<<12|(N&63)<<6|S&63,I>2047&&(I<55296||I>57343)&&(g=I));break;case 4:N=a[h+1],S=a[h+2],v=a[h+3],(N&192)===128&&(S&192)===128&&(v&192)===128&&(I=(x&15)<<18|(N&63)<<12|(S&63)<<6|v&63,I>65535&&I<1114112&&(g=I))}}g===null?(g=65533,C=1):g>65535&&(g-=65536,f.push(g>>>10&1023|55296),g=56320|g&1023),f.push(g),h+=C}return Tt(f)}const ze=4096;function Tt(a){const r=a.length;if(r<=ze)return String.fromCharCode.apply(String,a);let n="",f=0;for(;f<r;)n+=String.fromCharCode.apply(String,a.slice(f,f+=ze));return n}function St(a,r,n){let f="";n=Math.min(a.length,n);for(let h=r;h<n;++h)f+=String.fromCharCode(a[h]&127);return f}function Nt(a,r,n){let f="";n=Math.min(a.length,n);for(let h=r;h<n;++h)f+=String.fromCharCode(a[h]);return f}function vt(a,r,n){const f=a.length;(!r||r<0)&&(r=0),(!n||n<0||n>f)&&(n=f);let h="";for(let x=r;x<n;++x)h+=zt[a[x]];return h}function Rt(a,r,n){const f=a.slice(r,n);let h="";for(let x=0;x<f.length-1;x+=2)h+=String.fromCharCode(f[x]+f[x+1]*256);return h}u.prototype.slice=function(r,n){const f=this.length;r=~~r,n=n===void 0?f:~~n,r<0?(r+=f,r<0&&(r=0)):r>f&&(r=f),n<0?(n+=f,n<0&&(n=0)):n>f&&(n=f),n<r&&(n=r);const h=this.subarray(r,n);return Object.setPrototypeOf(h,u.prototype),h};function P(a,r,n){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+r>n)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(r,n,f){r=r>>>0,n=n>>>0,f||P(r,n,this.length);let h=this[r],x=1,g=0;for(;++g<n&&(x*=256);)h+=this[r+g]*x;return h},u.prototype.readUintBE=u.prototype.readUIntBE=function(r,n,f){r=r>>>0,n=n>>>0,f||P(r,n,this.length);let h=this[r+--n],x=1;for(;n>0&&(x*=256);)h+=this[r+--n]*x;return h},u.prototype.readUint8=u.prototype.readUInt8=function(r,n){return r=r>>>0,n||P(r,1,this.length),this[r]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(r,n){return r=r>>>0,n||P(r,2,this.length),this[r]|this[r+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(r,n){return r=r>>>0,n||P(r,2,this.length),this[r]<<8|this[r+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(r,n){return r=r>>>0,n||P(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(r,n){return r=r>>>0,n||P(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},u.prototype.readBigUInt64LE=X(function(r){r=r>>>0,re(r,"offset");const n=this[r],f=this[r+7];(n===void 0||f===void 0)&&ae(r,this.length-8);const h=n+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,x=this[++r]+this[++r]*2**8+this[++r]*2**16+f*2**24;return BigInt(h)+(BigInt(x)<<BigInt(32))}),u.prototype.readBigUInt64BE=X(function(r){r=r>>>0,re(r,"offset");const n=this[r],f=this[r+7];(n===void 0||f===void 0)&&ae(r,this.length-8);const h=n*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],x=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+f;return(BigInt(h)<<BigInt(32))+BigInt(x)}),u.prototype.readIntLE=function(r,n,f){r=r>>>0,n=n>>>0,f||P(r,n,this.length);let h=this[r],x=1,g=0;for(;++g<n&&(x*=256);)h+=this[r+g]*x;return x*=128,h>=x&&(h-=Math.pow(2,8*n)),h},u.prototype.readIntBE=function(r,n,f){r=r>>>0,n=n>>>0,f||P(r,n,this.length);let h=n,x=1,g=this[r+--h];for(;h>0&&(x*=256);)g+=this[r+--h]*x;return x*=128,g>=x&&(g-=Math.pow(2,8*n)),g},u.prototype.readInt8=function(r,n){return r=r>>>0,n||P(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},u.prototype.readInt16LE=function(r,n){r=r>>>0,n||P(r,2,this.length);const f=this[r]|this[r+1]<<8;return f&32768?f|4294901760:f},u.prototype.readInt16BE=function(r,n){r=r>>>0,n||P(r,2,this.length);const f=this[r+1]|this[r]<<8;return f&32768?f|4294901760:f},u.prototype.readInt32LE=function(r,n){return r=r>>>0,n||P(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},u.prototype.readInt32BE=function(r,n){return r=r>>>0,n||P(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},u.prototype.readBigInt64LE=X(function(r){r=r>>>0,re(r,"offset");const n=this[r],f=this[r+7];(n===void 0||f===void 0)&&ae(r,this.length-8);const h=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(f<<24);return(BigInt(h)<<BigInt(32))+BigInt(n+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)}),u.prototype.readBigInt64BE=X(function(r){r=r>>>0,re(r,"offset");const n=this[r],f=this[r+7];(n===void 0||f===void 0)&&ae(r,this.length-8);const h=(n<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(h)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+f)}),u.prototype.readFloatLE=function(r,n){return r=r>>>0,n||P(r,4,this.length),t.read(this,r,!0,23,4)},u.prototype.readFloatBE=function(r,n){return r=r>>>0,n||P(r,4,this.length),t.read(this,r,!1,23,4)},u.prototype.readDoubleLE=function(r,n){return r=r>>>0,n||P(r,8,this.length),t.read(this,r,!0,52,8)},u.prototype.readDoubleBE=function(r,n){return r=r>>>0,n||P(r,8,this.length),t.read(this,r,!1,52,8)};function z(a,r,n,f,h,x){if(!u.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>h||r<x)throw new RangeError('"value" argument is out of bounds');if(n+f>a.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(r,n,f,h){if(r=+r,n=n>>>0,f=f>>>0,!h){const C=Math.pow(2,8*f)-1;z(this,r,n,f,C,0)}let x=1,g=0;for(this[n]=r&255;++g<f&&(x*=256);)this[n+g]=r/x&255;return n+f},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(r,n,f,h){if(r=+r,n=n>>>0,f=f>>>0,!h){const C=Math.pow(2,8*f)-1;z(this,r,n,f,C,0)}let x=f-1,g=1;for(this[n+x]=r&255;--x>=0&&(g*=256);)this[n+x]=r/g&255;return n+f},u.prototype.writeUint8=u.prototype.writeUInt8=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,1,255,0),this[n]=r&255,n+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,2,65535,0),this[n]=r&255,this[n+1]=r>>>8,n+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,2,65535,0),this[n]=r>>>8,this[n+1]=r&255,n+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,4,4294967295,0),this[n+3]=r>>>24,this[n+2]=r>>>16,this[n+1]=r>>>8,this[n]=r&255,n+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,4,4294967295,0),this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=r&255,n+4};function _e(a,r,n,f,h){We(r,f,h,a,n,7);let x=Number(r&BigInt(4294967295));a[n++]=x,x=x>>8,a[n++]=x,x=x>>8,a[n++]=x,x=x>>8,a[n++]=x;let g=Number(r>>BigInt(32)&BigInt(4294967295));return a[n++]=g,g=g>>8,a[n++]=g,g=g>>8,a[n++]=g,g=g>>8,a[n++]=g,n}function $e(a,r,n,f,h){We(r,f,h,a,n,7);let x=Number(r&BigInt(4294967295));a[n+7]=x,x=x>>8,a[n+6]=x,x=x>>8,a[n+5]=x,x=x>>8,a[n+4]=x;let g=Number(r>>BigInt(32)&BigInt(4294967295));return a[n+3]=g,g=g>>8,a[n+2]=g,g=g>>8,a[n+1]=g,g=g>>8,a[n]=g,n+8}u.prototype.writeBigUInt64LE=X(function(r,n=0){return _e(this,r,n,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=X(function(r,n=0){return $e(this,r,n,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(r,n,f,h){if(r=+r,n=n>>>0,!h){const N=Math.pow(2,8*f-1);z(this,r,n,f,N-1,-N)}let x=0,g=1,C=0;for(this[n]=r&255;++x<f&&(g*=256);)r<0&&C===0&&this[n+x-1]!==0&&(C=1),this[n+x]=(r/g>>0)-C&255;return n+f},u.prototype.writeIntBE=function(r,n,f,h){if(r=+r,n=n>>>0,!h){const N=Math.pow(2,8*f-1);z(this,r,n,f,N-1,-N)}let x=f-1,g=1,C=0;for(this[n+x]=r&255;--x>=0&&(g*=256);)r<0&&C===0&&this[n+x+1]!==0&&(C=1),this[n+x]=(r/g>>0)-C&255;return n+f},u.prototype.writeInt8=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,1,127,-128),r<0&&(r=255+r+1),this[n]=r&255,n+1},u.prototype.writeInt16LE=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,2,32767,-32768),this[n]=r&255,this[n+1]=r>>>8,n+2},u.prototype.writeInt16BE=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,2,32767,-32768),this[n]=r>>>8,this[n+1]=r&255,n+2},u.prototype.writeInt32LE=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,4,2147483647,-2147483648),this[n]=r&255,this[n+1]=r>>>8,this[n+2]=r>>>16,this[n+3]=r>>>24,n+4},u.prototype.writeInt32BE=function(r,n,f){return r=+r,n=n>>>0,f||z(this,r,n,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=r&255,n+4},u.prototype.writeBigInt64LE=X(function(r,n=0){return _e(this,r,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=X(function(r,n=0){return $e(this,r,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ve(a,r,n,f,h,x){if(n+f>a.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function je(a,r,n,f,h){return r=+r,n=n>>>0,h||Ve(a,r,n,4),t.write(a,r,n,f,23,4),n+4}u.prototype.writeFloatLE=function(r,n,f){return je(this,r,n,!0,f)},u.prototype.writeFloatBE=function(r,n,f){return je(this,r,n,!1,f)};function qe(a,r,n,f,h){return r=+r,n=n>>>0,h||Ve(a,r,n,8),t.write(a,r,n,f,52,8),n+8}u.prototype.writeDoubleLE=function(r,n,f){return qe(this,r,n,!0,f)},u.prototype.writeDoubleBE=function(r,n,f){return qe(this,r,n,!1,f)},u.prototype.copy=function(r,n,f,h){if(!u.isBuffer(r))throw new TypeError("argument should be a Buffer");if(f||(f=0),!h&&h!==0&&(h=this.length),n>=r.length&&(n=r.length),n||(n=0),h>0&&h<f&&(h=f),h===f||r.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(f<0||f>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),r.length-n<h-f&&(h=r.length-n+f);const x=h-f;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,f,h):Uint8Array.prototype.set.call(r,this.subarray(f,h),n),x},u.prototype.fill=function(r,n,f,h){if(typeof r=="string"){if(typeof n=="string"?(h=n,n=0,f=this.length):typeof f=="string"&&(h=f,f=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!u.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(r.length===1){const g=r.charCodeAt(0);(h==="utf8"&&g<128||h==="latin1")&&(r=g)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(n<0||this.length<n||this.length<f)throw new RangeError("Out of range index");if(f<=n)return this;n=n>>>0,f=f===void 0?this.length:f>>>0,r||(r=0);let x;if(typeof r=="number")for(x=n;x<f;++x)this[x]=r;else{const g=u.isBuffer(r)?r:u.from(r,h),C=g.length;if(C===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(x=0;x<f-n;++x)this[x+n]=g[x%C]}return this};const ie={};function ke(a,r,n){ie[a]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(a,r){return`The "${a}" argument must be of type number. Received type ${typeof r}`},TypeError),ke("ERR_OUT_OF_RANGE",function(a,r,n){let f=`The value of "${a}" is out of range.`,h=n;return Number.isInteger(n)&&Math.abs(n)>2**32?h=Ge(String(n)):typeof n=="bigint"&&(h=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(h=Ge(h)),h+="n"),f+=` It must be ${r}. Received ${h}`,f},RangeError);function Ge(a){let r="",n=a.length;const f=a[0]==="-"?1:0;for(;n>=f+4;n-=3)r=`_${a.slice(n-3,n)}${r}`;return`${a.slice(0,n)}${r}`}function Ut(a,r,n){re(r,"offset"),(a[r]===void 0||a[r+n]===void 0)&&ae(r,a.length-(n+1))}function We(a,r,n,f,h,x){if(a>n||a<r){const g=typeof r=="bigint"?"n":"";let C;throw r===0||r===BigInt(0)?C=`>= 0${g} and < 2${g} ** ${(x+1)*8}${g}`:C=`>= -(2${g} ** ${(x+1)*8-1}${g}) and < 2 ** ${(x+1)*8-1}${g}`,new ie.ERR_OUT_OF_RANGE("value",C,a)}Ut(f,h,x)}function re(a,r){if(typeof a!="number")throw new ie.ERR_INVALID_ARG_TYPE(r,"number",a)}function ae(a,r,n){throw Math.floor(a)!==a?(re(a,n),new ie.ERR_OUT_OF_RANGE("offset","an integer",a)):r<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${r}`,a)}const Ot=/[^+/0-9A-Za-z-_]/g;function Pt(a){if(a=a.split("=")[0],a=a.trim().replace(Ot,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function Fe(a,r){r=r||1/0;let n;const f=a.length;let h=null;const x=[];for(let g=0;g<f;++g){if(n=a.charCodeAt(g),n>55295&&n<57344){if(!h){if(n>56319){(r-=3)>-1&&x.push(239,191,189);continue}else if(g+1===f){(r-=3)>-1&&x.push(239,191,189);continue}h=n;continue}if(n<56320){(r-=3)>-1&&x.push(239,191,189),h=n;continue}n=(h-55296<<10|n-56320)+65536}else h&&(r-=3)>-1&&x.push(239,191,189);if(h=null,n<128){if((r-=1)<0)break;x.push(n)}else if(n<2048){if((r-=2)<0)break;x.push(n>>6|192,n&63|128)}else if(n<65536){if((r-=3)<0)break;x.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((r-=4)<0)break;x.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return x}function Mt(a){const r=[];for(let n=0;n<a.length;++n)r.push(a.charCodeAt(n)&255);return r}function Lt(a,r){let n,f,h;const x=[];for(let g=0;g<a.length&&!((r-=2)<0);++g)n=a.charCodeAt(g),f=n>>8,h=n%256,x.push(h),x.push(f);return x}function He(a){return e.toByteArray(Pt(a))}function he(a,r,n,f){let h;for(h=0;h<f&&!(h+n>=r.length||h>=a.length);++h)r[h+n]=a[h];return h}function j(a,r){return a instanceof r||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===r.name}function Ce(a){return a!==a}const zt=(function(){const a="0123456789abcdef",r=new Array(256);for(let n=0;n<16;++n){const f=n*16;for(let h=0;h<16;++h)r[f+h]=a[n]+a[h]}return r})();function X(a){return typeof BigInt>"u"?_t:a}function _t(){throw new Error("BigInt not supported")}})(Ae)),Ae}var Hi=Wi();yt();const bt={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};for(const[i,e]of Object.entries(bt));let de;function Xi(){if(!(typeof globalThis.TextDecoder>"u"))return de??(de=new globalThis.TextDecoder("utf-8"))}const ee=32*1024;function Yi(i,e="utf-8"){switch(e.toLowerCase()){case"utf-8":case"utf8":{const t=Xi();return t?t.decode(i):Zi(i)}case"utf-16le":return Ji(i);case"us-ascii":case"ascii":return Di(i);case"latin1":case"iso-8859-1":return Qi(i);case"windows-1252":return Ki(i);default:throw new RangeError(`Encoding '${e}' not supported`)}}function Zi(i){const e=[];let t="",s=0;for(;s<i.length;){const o=i[s++];if(o<128)t+=String.fromCharCode(o);else if(o<224){const c=i[s++]&63;t+=String.fromCharCode((o&31)<<6|c)}else if(o<240){const c=i[s++]&63,l=i[s++]&63;t+=String.fromCharCode((o&15)<<12|c<<6|l)}else{const c=i[s++]&63,l=i[s++]&63,u=i[s++]&63;let p=(o&7)<<18|c<<12|l<<6|u;p-=65536,t+=String.fromCharCode(55296+(p>>10&1023),56320+(p&1023))}t.length>=ee&&(e.push(t),t="")}return t&&e.push(t),e.join("")}function Ji(i){const e=i.length&-2;if(e===0)return"";const t=[],s=ee;for(let o=0;o<e;){const c=Math.min(s,e-o>>1),l=new Array(c);for(let u=0;u<c;u++,o+=2)l[u]=i[o]|i[o+1]<<8;t.push(String.fromCharCode.apply(null,l))}return t.join("")}function Di(i){const e=[];for(let t=0;t<i.length;t+=ee){const s=Math.min(i.length,t+ee),o=new Array(s-t);for(let c=t,l=0;c<s;c++,l++)o[l]=i[c]&127;e.push(String.fromCharCode.apply(null,o))}return e.join("")}function Qi(i){const e=[];for(let t=0;t<i.length;t+=ee){const s=Math.min(i.length,t+ee),o=new Array(s-t);for(let c=t,l=0;c<s;c++,l++)o[l]=i[c];e.push(String.fromCharCode.apply(null,o))}return e.join("")}function Ki(i){const e=[];let t="";for(let s=0;s<i.length;s++){const o=i[s],c=o>=128&&o<=159?bt[o]:void 0;t+=c??String.fromCharCode(o),t.length>=ee&&(e.push(t),t="")}return t&&e.push(t),e.join("")}function V(i){return new DataView(i.buffer,i.byteOffset)}const er={len:1,get(i,e){return V(i).getUint8(e)},put(i,e,t){return V(i).setUint8(e,t),e+1}},U={len:2,get(i,e){return V(i).getUint16(e,!0)},put(i,e,t){return V(i).setUint16(e,t,!0),e+2}},ne={len:2,get(i,e){return V(i).getUint16(e)},put(i,e,t){return V(i).setUint16(e,t),e+2}},M={len:4,get(i,e){return V(i).getUint32(e,!0)},put(i,e,t){return V(i).setUint32(e,t,!0),e+4}},it={len:4,get(i,e){return V(i).getUint32(e)},put(i,e,t){return V(i).setUint32(e,t),e+4}},tr={len:4,get(i,e){return V(i).getInt32(e)},put(i,e,t){return V(i).setInt32(e,t),e+4}},ir={len:8,get(i,e){return V(i).getBigUint64(e,!0)},put(i,e,t){return V(i).setBigUint64(e,t,!0),e+8}};class H{constructor(e,t){this.len=e,this.encoding=t}get(e,t=0){const s=e.subarray(t,t+this.len);return Yi(s,this.encoding)}}const rr="End-Of-Stream";class $ extends Error{constructor(){super(rr),this.name="EndOfStreamError"}}class nr extends Error{constructor(e="The operation was aborted"){super(e),this.name="AbortError"}}class Et{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(e,t=!1){const s=await this.read(e,t);return this.peekQueue.push(e.subarray(0,s)),s}async read(e,t=!1){if(e.length===0)return 0;let s=this.readFromPeekBuffer(e);if(this.endOfStream||(s+=await this.readRemainderFromStream(e.subarray(s),t)),s===0&&!t)throw new $;return s}readFromPeekBuffer(e){let t=e.length,s=0;for(;this.peekQueue.length>0&&t>0;){const o=this.peekQueue.pop();if(!o)throw new Error("peekData should be defined");const c=Math.min(o.length,t);e.set(o.subarray(0,c),s),s+=c,t-=c,c<o.length&&this.peekQueue.push(o.subarray(c))}return s}async readRemainderFromStream(e,t){let s=0;for(;s<e.length&&!this.endOfStream;){if(this.interrupted)throw new nr;const o=await this.readFromStream(e.subarray(s),t);if(o===0)break;s+=o}if(!t&&s<e.length)throw new $;return s}}class sr extends Et{constructor(e){super(),this.reader=e}async abort(){return this.close()}async close(){this.reader.releaseLock()}}class or extends sr{async readFromStream(e,t){if(e.length===0)return 0;const s=await this.reader.read(new Uint8Array(e.length),{min:t?void 0:e.length});return s.done&&(this.endOfStream=s.done),s.value?(e.set(s.value),s.value.length):0}}class rt extends Et{constructor(e){super(),this.reader=e,this.buffer=null}writeChunk(e,t){const s=Math.min(t.length,e.length);return e.set(t.subarray(0,s)),s<t.length?this.buffer=t.subarray(s):this.buffer=null,s}async readFromStream(e,t){if(e.length===0)return 0;let s=0;for(this.buffer&&(s+=this.writeChunk(e,this.buffer));s<e.length&&!this.endOfStream;){const o=await this.reader.read();if(o.done){this.endOfStream=!0;break}o.value&&(s+=this.writeChunk(e.subarray(s),o.value))}if(!t&&s===0&&this.endOfStream)throw new $;return s}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}function ar(i){try{const e=i.getReader({mode:"byob"});return e instanceof ReadableStreamDefaultReader?new rt(e):new or(e)}catch(e){if(e instanceof TypeError)return new rt(i.getReader());throw e}}class Pe{constructor(e){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=e?.onClose,e?.abortSignal&&e.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(e,t=this.position){const s=new Uint8Array(e.len);if(await this.readBuffer(s,{position:t})<e.len)throw new $;return e.get(s,0)}async peekToken(e,t=this.position){const s=new Uint8Array(e.len);if(await this.peekBuffer(s,{position:t})<e.len)throw new $;return e.get(s,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new $;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new $;return e.get(this.numBuffer,0)}async ignore(e){if(this.fileInfo.size!==void 0){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(e,t){if(!this.supportsRandomAccess()&&t&&t.position!==void 0&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return{mayBeLess:!1,offset:0,length:e.length,position:this.position,...t}}abort(){return Promise.resolve()}}const cr=256e3;class fr extends Pe{constructor(e,t){super(t),this.streamReader=e,this.fileInfo=t?.fileInfo??{}}async readBuffer(e,t){const s=this.normalizeOptions(e,t),o=s.position-this.position;if(o>0)return await this.ignore(o),this.readBuffer(e,t);if(o<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(s.length===0)return 0;const c=await this.streamReader.read(e.subarray(0,s.length),s.mayBeLess);if(this.position+=c,(!t||!t.mayBeLess)&&c<s.length)throw new $;return c}async peekBuffer(e,t){const s=this.normalizeOptions(e,t);let o=0;if(s.position){const c=s.position-this.position;if(c>0){const l=new Uint8Array(s.length+c);return o=await this.peekBuffer(l,{mayBeLess:s.mayBeLess}),e.set(l.subarray(c)),o-c}if(c<0)throw new Error("Cannot peek from a negative offset in a stream")}if(s.length>0){try{o=await this.streamReader.peek(e.subarray(0,s.length),s.mayBeLess)}catch(c){if(t?.mayBeLess&&c instanceof $)return 0;throw c}if(!s.mayBeLess&&o<s.length)throw new $}return o}async ignore(e){const t=Math.min(cr,e),s=new Uint8Array(t);let o=0;for(;o<e;){const c=e-o,l=await this.readBuffer(s,{length:Math.min(t,c)});if(l<0)return l;o+=l}return o}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}class ur extends Pe{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo={...t?.fileInfo??{},size:e.length}}async readBuffer(e,t){t?.position&&(this.position=t.position);const s=await this.peekBuffer(e,t);return this.position+=s,s}async peekBuffer(e,t){const s=this.normalizeOptions(e,t),o=Math.min(this.uint8Array.length-s.position,s.length);if(!s.mayBeLess&&o<s.length)throw new $;return e.set(this.uint8Array.subarray(s.position,s.position+o)),o}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(e){this.position=e}}class lr extends Pe{constructor(e,t){super(t),this.blob=e,this.fileInfo={...t?.fileInfo??{},size:e.size,mimeType:e.type}}async readBuffer(e,t){t?.position&&(this.position=t.position);const s=await this.peekBuffer(e,t);return this.position+=s,s}async peekBuffer(e,t){const s=this.normalizeOptions(e,t),o=Math.min(this.blob.size-s.position,s.length);if(!s.mayBeLess&&o<s.length)throw new $;const c=await this.blob.slice(s.position,s.position+o).arrayBuffer();return e.set(new Uint8Array(c)),o}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(e){this.position=e}}function hr(i,e){const t=ar(i),s=e??{},o=s.onClose;return s.onClose=async()=>{if(await t.close(),o)return o()},new fr(t,s)}function pr(i,e){return new ur(i,e)}function dr(i,e){return new lr(i,e)}var me={exports:{}},Ie,nt;function mr(){if(nt)return Ie;nt=1;var i=1e3,e=i*60,t=e*60,s=t*24,o=s*7,c=s*365.25;Ie=function(w,m){m=m||{};var b=typeof w;if(b==="string"&&w.length>0)return l(w);if(b==="number"&&isFinite(w))return m.long?p(w):u(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function l(w){if(w=String(w),!(w.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(m){var b=parseFloat(m[1]),y=(m[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return b*c;case"weeks":case"week":case"w":return b*o;case"days":case"day":case"d":return b*s;case"hours":case"hour":case"hrs":case"hr":case"h":return b*t;case"minutes":case"minute":case"mins":case"min":case"m":return b*e;case"seconds":case"second":case"secs":case"sec":case"s":return b*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function u(w){var m=Math.abs(w);return m>=s?Math.round(w/s)+"d":m>=t?Math.round(w/t)+"h":m>=e?Math.round(w/e)+"m":m>=i?Math.round(w/i)+"s":w+"ms"}function p(w){var m=Math.abs(w);return m>=s?d(w,m,s,"day"):m>=t?d(w,m,t,"hour"):m>=e?d(w,m,e,"minute"):m>=i?d(w,m,i,"second"):w+" ms"}function d(w,m,b,y){var E=m>=b*1.5;return Math.round(w/b)+" "+y+(E?"s":"")}return Ie}var Te,st;function xr(){if(st)return Te;st=1;function i(e){s.debug=s,s.default=s,s.coerce=d,s.disable=u,s.enable=c,s.enabled=p,s.humanize=mr(),s.destroy=w,Object.keys(e).forEach(m=>{s[m]=e[m]}),s.names=[],s.skips=[],s.formatters={};function t(m){let b=0;for(let y=0;y<m.length;y++)b=(b<<5)-b+m.charCodeAt(y),b|=0;return s.colors[Math.abs(b)%s.colors.length]}s.selectColor=t;function s(m){let b,y=null,E,F;function k(...B){if(!k.enabled)return;const A=k,O=Number(new Date),W=O-(b||O);A.diff=W,A.prev=b,A.curr=O,b=O,B[0]=s.coerce(B[0]),typeof B[0]!="string"&&B.unshift("%O");let T=0;B[0]=B[0].replace(/%([a-zA-Z%])/g,(te,be)=>{if(te==="%%")return"%";T++;const le=s.formatters[be];if(typeof le=="function"){const Ee=B[T];te=le.call(A,Ee),B.splice(T,1),T--}return te}),s.formatArgs.call(A,B),(A.log||s.log).apply(A,B)}return k.namespace=m,k.useColors=s.useColors(),k.color=s.selectColor(m),k.extend=o,k.destroy=s.destroy,Object.defineProperty(k,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(E!==s.namespaces&&(E=s.namespaces,F=s.enabled(m)),F),set:B=>{y=B}}),typeof s.init=="function"&&s.init(k),k}function o(m,b){const y=s(this.namespace+(typeof b>"u"?":":b)+m);return y.log=this.log,y}function c(m){s.save(m),s.namespaces=m,s.names=[],s.skips=[];const b=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const y of b)y[0]==="-"?s.skips.push(y.slice(1)):s.names.push(y)}function l(m,b){let y=0,E=0,F=-1,k=0;for(;y<m.length;)if(E<b.length&&(b[E]===m[y]||b[E]==="*"))b[E]==="*"?(F=E,k=y,E++):(y++,E++);else if(F!==-1)E=F+1,k++,y=k;else return!1;for(;E<b.length&&b[E]==="*";)E++;return E===b.length}function u(){const m=[...s.names,...s.skips.map(b=>"-"+b)].join(",");return s.enable(""),m}function p(m){for(const b of s.skips)if(l(m,b))return!1;for(const b of s.names)if(l(m,b))return!0;return!1}function d(m){return m instanceof Error?m.stack||m.message:m}function w(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}return Te=i,Te}var ot;function gr(){return ot||(ot=1,(function(i,e){var t={};e.formatArgs=o,e.save=c,e.load=l,e.useColors=s,e.storage=u(),e.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;const w="color: "+this.color;d.splice(1,0,w,"color: inherit");let m=0,b=0;d[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(m++,y==="%c"&&(b=m))}),d.splice(b,0,w)}e.log=console.debug||console.log||(()=>{});function c(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function l(){let d;try{d=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=t.DEBUG),d}function u(){try{return localStorage}catch{}}i.exports=xr()(e);const{formatters:p}=i.exports;p.j=function(d){try{return JSON.stringify(d)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}})(me,me.exports)),me.exports}var wr=gr();const yr=qi(wr),oe={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},at={get(i){return{signature:M.get(i,0),compressedSize:M.get(i,8),uncompressedSize:M.get(i,12)}},len:16},br={get(i){const e=U.get(i,6);return{signature:M.get(i,0),minVersion:U.get(i,4),dataDescriptor:!!(e&8),compressedMethod:U.get(i,8),compressedSize:M.get(i,18),uncompressedSize:M.get(i,22),filenameLength:U.get(i,26),extraFieldLength:U.get(i,28),filename:null}},len:30},Er={get(i){return{signature:M.get(i,0),nrOfThisDisk:U.get(i,4),nrOfThisDiskWithTheStart:U.get(i,6),nrOfEntriesOnThisDisk:U.get(i,8),nrOfEntriesOfSize:U.get(i,10),sizeOfCd:M.get(i,12),offsetOfStartOfCd:M.get(i,16),zipFileCommentLength:U.get(i,20)}},len:22},kr={get(i){const e=U.get(i,8);return{signature:M.get(i,0),minVersion:U.get(i,6),dataDescriptor:!!(e&8),compressedMethod:U.get(i,10),compressedSize:M.get(i,20),uncompressedSize:M.get(i,24),filenameLength:U.get(i,28),extraFieldLength:U.get(i,30),fileCommentLength:U.get(i,32),relativeOffsetOfLocalHeader:M.get(i,42),filename:null}},len:46};function kt(i){const e=new Uint8Array(M.len);return M.put(e,0,i),e}const q=yr("tokenizer:inflate"),Se=256*1024,Fr=kt(oe.DataDescriptor),xe=kt(oe.EndOfCentralDirectory);class Me{constructor(e){this.tokenizer=e,this.syncBuffer=new Uint8Array(Se)}async isZip(){return await this.peekSignature()===oe.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(M)}async findEndOfCentralDirectoryLocator(){const e=this.tokenizer,t=Math.min(16*1024,e.fileInfo.size),s=this.syncBuffer.subarray(0,t);await this.tokenizer.readBuffer(s,{position:e.fileInfo.size-t});for(let o=s.length-4;o>=0;o--)if(s[o]===xe[0]&&s[o+1]===xe[1]&&s[o+2]===xe[2]&&s[o+3]===xe[3])return e.fileInfo.size-t+o;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){q("Cannot reading central-directory without random-read support");return}q("Reading central-directory...");const e=this.tokenizer.position,t=await this.findEndOfCentralDirectoryLocator();if(t>0){q("Central-directory 32-bit signature found");const s=await this.tokenizer.readToken(Er,t),o=[];this.tokenizer.setPosition(s.offsetOfStartOfCd);for(let c=0;c<s.nrOfEntriesOfSize;++c){const l=await this.tokenizer.readToken(kr);if(l.signature!==oe.CentralFileHeader)throw new Error("Expected Central-File-Header signature");l.filename=await this.tokenizer.readToken(new H(l.filenameLength,"utf-8")),await this.tokenizer.ignore(l.extraFieldLength),await this.tokenizer.ignore(l.fileCommentLength),o.push(l),q(`Add central-directory file-entry: n=${c+1}/${o.length}: filename=${o[c].filename}`)}return this.tokenizer.setPosition(e),o}this.tokenizer.setPosition(e)}async unzip(e){const t=await this.readCentralDirectory();if(t)return this.iterateOverCentralDirectory(t,e);let s=!1;do{const o=await this.readLocalFileHeader();if(!o)break;const c=e(o);s=!!c.stop;let l;if(await this.tokenizer.ignore(o.extraFieldLength),o.dataDescriptor&&o.compressedSize===0){const u=[];let p=Se;q("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let d=-1;for(;d<0&&p===Se;){p=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),d=Cr(this.syncBuffer.subarray(0,p),Fr);const w=d>=0?d:p;if(c.handler){const m=new Uint8Array(w);await this.tokenizer.readBuffer(m),u.push(m)}else await this.tokenizer.ignore(w)}q(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),c.handler&&await this.inflate(o,Br(u),c.handler)}else c.handler?(q(`Reading compressed-file-data: ${o.compressedSize} bytes`),l=new Uint8Array(o.compressedSize),await this.tokenizer.readBuffer(l),await this.inflate(o,l,c.handler)):(q(`Ignoring compressed-file-data: ${o.compressedSize} bytes`),await this.tokenizer.ignore(o.compressedSize));if(q(`Reading data-descriptor at pos=${this.tokenizer.position}`),o.dataDescriptor&&(await this.tokenizer.readToken(at)).signature!==134695760)throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-at.len}`)}while(!s)}async iterateOverCentralDirectory(e,t){for(const s of e){const o=t(s);if(o.handler){this.tokenizer.setPosition(s.relativeOffsetOfLocalHeader);const c=await this.readLocalFileHeader();if(c){await this.tokenizer.ignore(c.extraFieldLength);const l=new Uint8Array(s.compressedSize);await this.tokenizer.readBuffer(l),await this.inflate(c,l,o.handler)}}if(o.stop)break}}async inflate(e,t,s){if(e.compressedMethod===0)return s(t);if(e.compressedMethod!==8)throw new Error(`Unsupported ZIP compression method: ${e.compressedMethod}`);q(`Decompress filename=${e.filename}, compressed-size=${t.length}`);const o=await Me.decompressDeflateRaw(t);return s(o)}static async decompressDeflateRaw(e){const t=new ReadableStream({start(c){c.enqueue(e),c.close()}}),s=new DecompressionStream("deflate-raw"),o=t.pipeThrough(s);try{const l=await new Response(o).arrayBuffer();return new Uint8Array(l)}catch(c){const l=c instanceof Error?`Failed to deflate ZIP entry: ${c.message}`:"Unknown decompression error in ZIP entry";throw new TypeError(l)}}async readLocalFileHeader(){const e=await this.tokenizer.peekToken(M);if(e===oe.LocalFileHeader){const t=await this.tokenizer.readToken(br);return t.filename=await this.tokenizer.readToken(new H(t.filenameLength,"utf-8")),t}if(e===oe.CentralFileHeader)return!1;throw e===3759263696?new Error("Encrypted ZIP"):new Error("Unexpected signature")}}function Cr(i,e){const t=i.length,s=e.length;if(s>t)return-1;for(let o=0;o<=t-s;o++){let c=!0;for(let l=0;l<s;l++)if(i[o+l]!==e[l]){c=!1;break}if(c)return o}return-1}function Br(i){const e=i.reduce((o,c)=>o+c.length,0),t=new Uint8Array(e);let s=0;for(const o of i)t.set(o,s),s+=o.length;return t}class Ar{constructor(e){this.tokenizer=e}inflate(){const e=this.tokenizer;return new ReadableStream({async pull(t){const s=new Uint8Array(1024),o=await e.readBuffer(s,{mayBeLess:!0});if(o===0){t.close();return}t.enqueue(s.subarray(0,o))}}).pipeThrough(new DecompressionStream("gzip"))}}new globalThis.TextDecoder("utf8");new globalThis.TextEncoder;Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));function ct(i){const{byteLength:e}=i;if(e===6)return i.getUint16(0)*2**32+i.getUint32(2);if(e===5)return i.getUint8(0)*2**32+i.getUint32(1);if(e===4)return i.getUint32(0);if(e===3)return i.getUint8(0)*2**16+i.getUint16(1);if(e===2)return i.getUint16(0);if(e===1)return i.getUint8(0)}function Ir(i,e){if(e==="utf-16le"){const t=[];for(let s=0;s<i.length;s++){const o=i.charCodeAt(s);t.push(o&255,o>>8&255)}return t}if(e==="utf-16be"){const t=[];for(let s=0;s<i.length;s++){const o=i.charCodeAt(s);t.push(o>>8&255,o&255)}return t}return[...i].map(t=>t.charCodeAt(0))}function Tr(i,e=0){const t=Number.parseInt(new H(6).get(i,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(t))return!1;let s=256;for(let o=e;o<e+148;o++)s+=i[o];for(let o=e+156;o<e+512;o++)s+=i[o];return t===s}const Sr={get:(i,e)=>i[e+3]&127|i[e+2]<<7|i[e+1]<<14|i[e]<<21,len:4},Nr=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","jmp","rm","sav","ppsm","ppsx","tar.gz","reg","dat"],vr=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/vnd.apache.arrow.file","video/mp4","audio/midi","video/matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/vnd.apache.parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/java-archive","application/vnd.rn-realmedia","application/x-spss-sav","application/x-ms-regedit","application/x-ft-windows-registry-hive","application/x-jmp-data"],Ne=4100;async function Rr(i,e){return new Ur(e).fromBuffer(i)}function ve(i){switch(i=i.toLowerCase(),i){case"application/epub+zip":return{ext:"epub",mime:i};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:i};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:i};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:i};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:i};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:i};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:i};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:i};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:i};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:i};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:i};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:i};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:i};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:i};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:i};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:i};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"}}}function G(i,e,t){t={offset:0,...t};for(const[s,o]of e.entries())if(t.mask){if(o!==(t.mask[s]&i[s+t.offset]))return!1}else if(o!==i[s+t.offset])return!1;return!0}class Ur{constructor(e){this.options={mpegOffsetTolerance:0,...e},this.detectors=[...e?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:e?.signal}}async fromTokenizer(e){const t=e.position;for(const s of this.detectors){const o=await s.detect(e);if(o)return o;if(t!==e.position)return}}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if(t?.length>1)return this.fromTokenizer(pr(t,this.tokenizerOptions))}async fromBlob(e){const t=dr(e,this.tokenizerOptions);try{return await this.fromTokenizer(t)}finally{await t.close()}}async fromStream(e){const t=hr(e,this.tokenizerOptions);try{return await this.fromTokenizer(t)}finally{await t.close()}}async toDetectionStream(e,t){const{sampleSize:s=Ne}=t;let o,c;const l=e.getReader({mode:"byob"});try{const{value:d,done:w}=await l.read(new Uint8Array(s));if(c=d,!w&&d)try{o=await this.fromBuffer(d.subarray(0,s))}catch(m){if(!(m instanceof $))throw m;o=void 0}c=d}finally{l.releaseLock()}const u=new TransformStream({async start(d){d.enqueue(c)},transform(d,w){w.enqueue(d)}}),p=e.pipeThrough(u);return p.fileType=o,p}check(e,t){return G(this.buffer,e,t)}checkString(e,t){return this.check(Ir(e,t?.encoding),t)}detectConfident=async e=>{if(this.buffer=new Uint8Array(Ne),e.fileInfo.size===void 0&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:32,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8])){const s=new Ar(e).inflate();let o=!0;try{let c;try{c=await this.fromStream(s)}catch{o=!1}if(c&&c.ext==="tar")return{ext:"tar.gz",mime:"application/gzip"}}finally{o&&await s.cancel()}return{ext:"gz",mime:"application/gzip"}}if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);const t=await e.readToken(Sr);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let t;return await new Me(e).unzip(s=>{switch(s.filename){case"META-INF/mozilla.rsa":return t={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return t={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(o){const c=new TextDecoder("utf-8").decode(o).trim();t=ve(c)},stop:!0};case"[Content_Types].xml":return{async handler(o){let c=new TextDecoder("utf-8").decode(o);const l=c.indexOf('.main+xml"');if(l===-1){const u="application/vnd.ms-package.3dmanufacturing-3dmodel+xml";c.includes(`ContentType="${u}"`)&&(t=ve(u))}else{c=c.slice(0,Math.max(0,l));const u=c.lastIndexOf('"'),p=c.slice(Math.max(0,u+1));t=ve(p)}},stop:!0};default:return/classes\d*\.dex/.test(s.filename)?(t={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0}):{}}}).catch(s=>{if(!(s instanceof $))throw s}),t??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);const t=new Uint8Array(8);return await e.readBuffer(t),G(t,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/ogg; codecs=opus"}:G(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:G(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:G(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:G(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:G(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const t=await this.readTiffHeader(!1);if(t)return t}if(this.check([77,77])){const t=await this.readTiffHeader(!0);if(t)return t}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function t(){const u=await e.peekNumber(er);let p=128,d=0;for(;(u&p)===0&&p!==0;)++d,p>>=1;const w=new Uint8Array(d+1);return await e.readBuffer(w),w}async function s(){const u=await t(),p=await t();p[0]^=128>>p.length-1;const d=Math.min(6,p.length),w=new DataView(u.buffer),m=new DataView(p.buffer,p.length-d,d);return{id:ct(w),len:ct(m)}}async function o(u){for(;u>0;){const p=await s();if(p.id===17026)return(await e.readToken(new H(p.len))).replaceAll(/\00.*$/g,"");await e.ignore(p.len),--u}}const c=await s();switch(await o(c.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([254,237,250,206])||this.check([254,237,250,207])||this.check([206,250,237,254])||this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.checkString("regf"))return{ext:"dat",mime:"application/x-ft-windows-registry-hive"};if(this.checkString("$FL2")||this.checkString("$FL3"))return{ext:"sav",mime:"application/x-spss-sav"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190])){const t=it.get(this.buffer,4),s=ne.get(this.buffer,6);if(t>0&&t<=30)return{ext:"macho",mime:"application/x-mach-binary"};if(s>30)return{ext:"class",mime:"application/java-vm"}}if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const t=new H(4,"latin1").get(this.buffer,2);if(t.match("^d*")&&t>=1e3&&t<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await e.ignore(8),await e.readToken(new H(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&[`
`,"\r","	"," ","\0"].some(t=>this.checkString(t,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await e.ignore(8);async function t(){return{length:await e.readToken(tr),type:await e.readToken(new H(4,"latin1"))}}do{const s=await t();if(s.length<0)return;switch(s.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(s.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){const t=new H(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(t){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return t.startsWith("3g")?t.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString(`REGEDIT4\r
`))return{ext:"reg",mime:"application/x-ms-regedit"};if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function t(){const s=new Uint8Array(16);return await e.readBuffer(s),{id:s,size:Number(await e.readToken(ir))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const s=await t();let o=s.size-24;if(G(s.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const c=new Uint8Array(16);if(o-=await e.readBuffer(c),G(c,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(G(c,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(o)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new H(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.checkString("<?xml ",{offset:2,encoding:"utf-16be"})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const t=new DataView(this.buffer.buffer).getUint32(12,!0);if(t>12&&this.buffer.length>=t+16)try{const s=new TextDecoder().decode(this.buffer.subarray(16,t+16));if(JSON.parse(s).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(this.check([255,255,0,0,7,0,0,0,4,0,0,0,1,0,1,0])||this.check([0,0,255,255,0,0,0,7,0,0,0,4,0,1,0,1]))return{ext:"jmp",mime:"application/x-jmp-data"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\0",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&Tr(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254])){const t="utf-16le";return this.checkString("<?xml ",{offset:2,encoding:t})?{ext:"xml",mime:"application/xml"}:this.check([255,14],{offset:2})&&this.checkString("SketchUp Model",{offset:4,encoding:t})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:this.checkString(`Windows Registry Editor Version 5.00\r
`,{offset:2,encoding:t})?{ext:"reg",mime:"application/x-ms-regedit"}:void 0}if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async e=>{if(this.buffer=new Uint8Array(Ne),await e.peekBuffer(this.buffer,{length:Math.min(8,e.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await e.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,e.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let t=0;t<=this.options.mpegOffsetTolerance;++t){const s=this.scanMpeg(t);if(s)return s}};async readTiffTag(e){const t=await this.tokenizer.readToken(e?ne:U);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){const t=await this.tokenizer.readToken(e?ne:U);for(let s=0;s<t;++s){const o=await this.readTiffTag(e);if(o)return o}}async readTiffHeader(e){const t=(e?ne:U).get(this.buffer,2),s=(e?it:M).get(this.buffer,4);if(t===42){if(s>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(s>=8){const c=(e?ne:U).get(this.buffer,8),l=(e?ne:U).get(this.buffer,10);if(c===28&&l===254||c===31&&l===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(s),await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(t===43)return{ext:"tif",mime:"image/tiff"}}scanMpeg(e){if(this.check([255,224],{offset:e,mask:[255,224]})){if(this.check([16],{offset:e+1,mask:[22]}))return this.check([8],{offset:e+1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:e+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:e+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:e+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}}new Set(Nr);new Set(vr);const Ft=$t({}),Lr=()=>{const i=localStorage.getItem(Ct.token);if(i===null)return;const{username:e,password:t,domain:s}=JSON.parse(i);Ft.studentAccount=new ji(s,e,t)},zr=i=>i.replace(/ \([A-Z]+\)$/,""),se=new Intl.RelativeTimeFormat("en-US",{numeric:"auto"});function _r(i){const t=Math.floor((new Date().getTime()-i.getTime())/1e3),s=Math.floor(t/60),o=Math.floor(s/60),c=Math.floor(o/24),l=Math.floor(c/30),u=Math.floor(c/365);return t<60?se.format(-t,"second"):s<60?se.format(-s,"minute"):o<24?se.format(-o,"hour"):c<30?se.format(-c,"day"):l<12?se.format(-l,"month"):se.format(-u,"year")}const $r=new Intl.DateTimeFormat("en-US",{dateStyle:"short"}),Vr=new Intl.DateTimeFormat("en-US",{dateStyle:"full"});async function jr(i){const e=new Uint8Array(Hi.Buffer.from(i,"base64")),t=(await Rr(e))?.mime;if(t===void 0)throw new Error("Could not determine MIME type");const s=new Blob([e],{type:t});return URL.createObjectURL(s)}var Ct=(i=>(i.token="token",i.gradebook="gradebook4",i.seenAssignmentIDs="seenAssignmentIDs",i.attendance="attendance",i.documents="documents",i.mailData="mailData",i.studentInfo="studentInfo",i))(Ct||{});const qr=async(i,e,t,s,o=!1)=>{if(i.data!==void 0&&!o||Ft.studentAccount===void 0)return;i.loaded=!1;let c=!0;const l=localStorage.getItem(t);if(l!==null)try{const u=JSON.parse(l);i.data=u.data,i.lastRefresh=u.lastRefresh,s!==void 0&&Date.now()-u.lastRefresh<s&&(c=!1)}catch(u){console.error(u),localStorage.removeItem(t)}if(c||o)try{i.data=await e(),i.lastRefresh=Date.now();const u={data:i.data,lastRefresh:i.lastRefresh};localStorage.setItem(t,JSON.stringify(u))}catch(u){console.error(u)}i.loaded=!0},Gr="linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)",Wr={red:"bg-red-500",orange:"bg-gray-500",amber:"bg-gray-500",yellow:"bg-yellow-500",lime:"bg-gray-500",green:"bg-green-500",emerald:"bg-gray-500",teal:"bg-gray-500",cyan:"bg-gray-500",sky:"bg-gray-500",blue:"bg-gray-500",indigo:"bg-gray-500",violet:"bg-gray-500",purple:"bg-gray-500",fuchsia:"bg-gray-500",pink:"bg-gray-500",rose:"bg-gray-500",default:"bg-gray-500"},Hr=["red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","gray","fuchsia","pink","rose"];export{Ct as L,Oe as O,ji as S,Ft as a,_r as b,qr as c,Wr as d,Vr as f,jr as g,Lr as l,Gr as n,Pr as p,zr as r,$r as s,Hr as t,$i as u};
