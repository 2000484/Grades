import{o as nt}from"./BMYUHyEc.js";import{t as yt,A as D,B as z,ad as wt,aN as bt,_ as H,Y as Ct,Z as St,aO as $t,aP as xt,F as Et,X as A,ar as kt,aQ as Rt,aR as At,p as Pt,aM as Tt,aS as N,aT as jt,j as Y,k as E,L as Z,c as Ut,m as y,r as Mt,a as Nt,q as G,aU as Lt,aV as rt}from"./C_6UiiDj.js";import{b as q,e as Ot,f as Bt,a as Vt}from"./DnKRhqIz.js";import"./DiF9-A_S.js";import{l as K,p as u,e as Q,k as Ft,n as Xt}from"./BiKsXKFa.js";import{a as It}from"./BXc22fYE.js";import{b as Wt}from"./Cq8bdp-N.js";import{i as Dt}from"./CUiJWTCC.js";const J=!0;function zt(s,t,e=!1,i=!1,a=!1){var o=s,n="";yt(()=>{var r=wt;if(n===(n=t()??"")){D&&z();return}if(r.nodes!==null&&(bt(r.nodes.start,r.nodes.end),r.nodes=null),n!==""){if(D){H.data;for(var l=z(),p=l;l!==null&&(l.nodeType!==Ct||l.data!=="");)p=l,l=St(l);if(l===null)throw $t(),xt;q(H,p),o=Et(l);return}var c=n+"";e?c=`<svg>${c}</svg>`:i&&(c=`<math>${c}</math>`);var f=Ot(c);if((e||i)&&(f=A(f)),q(A(f),f.lastChild),e||i)for(;A(f);)o.before(A(f));else o.before(f)}})}function tt(s,t){var e=s.$$events?.[t.type],i=kt(e)?e.slice():e==null?[]:[e];for(var a of i)a.call(this,t)}const w=(s,t,e)=>{const i=document.createElement(s),[a,o]=Array.isArray(t)?[void 0,t]:[t,e];return a&&Object.assign(i,a),o?.forEach(n=>i.appendChild(n)),i},Ht=(s,t)=>{var e;return t==="left"?s.offsetLeft:(((e=s.offsetParent instanceof HTMLElement?s.offsetParent:null)==null?void 0:e.offsetWidth)??0)-s.offsetWidth-s.offsetLeft},Yt=s=>s.offsetWidth>0&&s.offsetHeight>0,Zt=(s,t)=>{!customElements.get(s)&&customElements.define(s,t)};function Gt(s,t,{reverse:e=!1}={}){const i=s.length;for(let a=e?i-1:0;e?a>=0:a<i;e?a--:a++)t(s[a],a)}function qt(s,t,e,i){const a=t.formatToParts(s);e&&a.unshift({type:"prefix",value:e}),i&&a.push({type:"suffix",value:i});const o=[],n=[],r=[],l=[],p={},c=d=>`${d}:${p[d]=(p[d]??-1)+1}`;let f="",g=!1,v=!1;for(const d of a){f+=d.value;const h=d.type==="minusSign"||d.type==="plusSign"?"sign":d.type;h==="integer"?(g=!0,n.push(...d.value.split("").map($=>({type:h,value:parseInt($)})))):h==="group"?n.push({type:h,value:d.value}):h==="decimal"?(v=!0,r.push({type:h,value:d.value,key:c(h)})):h==="fraction"?r.push(...d.value.split("").map($=>({type:h,value:parseInt($),key:c(h),pos:-1-p[h]}))):(g||v?l:o).push({type:h,value:d.value,key:c(h)})}const R=[];for(let d=n.length-1;d>=0;d--){const h=n[d];R.unshift(h.type==="integer"?{...h,key:c(h.type),pos:p[h.type]}:{...h,key:c(h.type)})}return{pre:o,integer:R,fraction:r,post:l,valueAsString:f,value:typeof s=="string"?parseFloat(s):s}}const Kt=String.raw,ot=String.raw,Qt=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),Jt=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),k=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,U="--_number-flow-d-opacity",V="--_number-flow-d-width",M="--_number-flow-dx",F="--_number-flow-d",te=(()=>{try{return CSS.registerProperty({name:U,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:M,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:V,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:F,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),X="var(--number-flow-char-height, 1em)",_="var(--number-flow-mask-height, 0.25em)",L=`calc(${_} / 2)`,O="var(--number-flow-mask-width, 0.5em)",S=`calc(${O} / var(--scale-x))`,P="#000 0, transparent 71%",et=ot`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${X} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${V}) / var(--width));transform:translateX(var(${M})) scaleX(var(--scale-x));margin:0 calc(-1 * ${O});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${S},#000 calc(100% - ${S}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${_},#000 calc(100% - ${_}),transparent 100% ),radial-gradient(at bottom right,${P}),radial-gradient(at bottom left,${P}),radial-gradient(at top left,${P}),radial-gradient(at top right,${P});-webkit-mask-size:100% calc(100% - ${_} * 2),calc(100% - ${S} * 2) 100%,${S} ${_},${S} ${_},${S} ${_},${S} ${_};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${L} ${O};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${M})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${F})}.digit__num,.number .section::after{padding:${L} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${U}))}`,ee=HTMLElement,ie=ot`:host{display:inline-block;direction:ltr;white-space:nowrap;line-height:${X} !important}span{display:inline-block}:host([data-will-change]) span{will-change:transform}.number,.digit{padding:${L} 0}.symbol{white-space:pre}`,se=s=>`<span class="${s.type==="integer"||s.type==="fraction"?"digit":"symbol"}" part="${s.type==="integer"||s.type==="fraction"?`digit ${s.type}-digit`:`symbol ${s.type}`}">${s.value}</span>`,T=(s,t)=>`<span part="${t}">${s.reduce((e,i)=>e+se(i),"")}</span>`,it=s=>Kt`<template shadowroot="open" shadowrootmode="open"
			><style>
				${ie}</style
			><span role="img" aria-label="${s.valueAsString}"
				>${T(s.pre,"left")}<span part="number" class="number"
					>${T(s.integer,"integer")}${T(s.fraction,"fraction")}</span
				>${T(s.post,"right")}</span
			></template
		><span
			style="font-kerning: none; display: inline-block; line-height: ${X} !important; padding: ${_} 0;"
			>${s.valueAsString}</span
		>`,lt=Jt&&Qt&&te;let j;class ht extends ee{constructor(){super(),this.created=!1,this.batched=!1;const{animated:t,...e}=this.constructor.defaultProps;this._animated=this.computedAnimated=t,Object.assign(this,e)}get animated(){return this._animated}set animated(t){var e;this.animated!==t&&(this._animated=t,(e=this.shadowRoot)==null||e.getAnimations().forEach(i=>i.finish()))}set data(t){var e;if(t==null)return;const{pre:i,integer:a,fraction:o,post:n,value:r}=t;if(this.created){const l=this._data;this._data=t,this.computedTrend=typeof this.trend=="function"?this.trend(l.value,r):this.trend,this.computedAnimated=lt&&this._animated&&(!this.respectMotionPreference||!(k!=null&&k.matches))&&Yt(this),(e=this.plugins)==null||e.forEach(p=>{var c;return(c=p.onUpdate)==null?void 0:c.call(p,t,l,this)}),this.batched||this.willUpdate(),this._pre.update(i),this._num.update({integer:a,fraction:o}),this._post.update(n),this.batched||this.didUpdate()}else{this._data=t,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}if(typeof CSSStyleSheet<"u"&&this.shadowRoot.adoptedStyleSheets)j||(j=new CSSStyleSheet,j.replaceSync(et)),this.shadowRoot.adoptedStyleSheets=[j];else{const l=document.createElement("style");l.textContent=et,this.shadowRoot.appendChild(l)}this._pre=new at(this,i,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new ae(this,a,o),this.shadowRoot.appendChild(this._num.el),this._post=new at(this,n,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=t.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const t=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(e=>e.finished)).then(()=>{t.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=t}}ht.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(s,t)=>Math.sign(t-s),respectMotionPreference:!0,plugins:void 0,digits:void 0};class ae{constructor(t,e,i,{className:a,...o}={}){this.flow=t,this._integer=new st(t,e,{justify:"right",part:"integer"}),this._fraction=new st(t,i,{justify:"left",part:"fraction"}),this._inner=w("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=w("span",{...o,part:"number",className:`number ${a??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:t,fraction:e}){this._integer.update(t),this._fraction.update(e)}didUpdate(){const t=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const e=this._prevLeft-t.left,i=this.el.offsetWidth,a=this._prevWidth-i;this.el.style.setProperty("--width",String(i)),this.el.animate({[M]:[`${e}px`,"0px"],[V]:[a,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class ct{constructor(t,e,{justify:i,className:a,...o},n){this.flow=t,this.children=new Map,this.onCharRemove=l=>()=>{this.children.delete(l)},this.justify=i;const r=e.map(l=>this.addChar(l).el);this.el=w("span",{...o,className:`section section--justify-${i} ${a??""}`},n?n(r):r)}addChar(t,{startDigitsAtZero:e=!1,...i}={}){const a=t.type==="integer"||t.type==="fraction"?new pt(this,t.type,e?0:t.value,t.pos,{...i,onRemove:this.onCharRemove(t.key)}):new ne(this,t.type,t.value,{...i,onRemove:this.onCharRemove(t.key)});return this.children.set(t.key,a),a}unpop(t){t.el.removeAttribute("inert"),t.el.style.top="",t.el.style[this.justify]=""}pop(t){t.forEach(e=>{e.el.style.top=`${e.el.offsetTop}px`,e.el.style[this.justify]=`${Ht(e.el,this.justify)}px`}),t.forEach(e=>{e.el.setAttribute("inert",""),e.present=!1})}addNewAndUpdateExisting(t){const e=new Map,i=new Map,a=this.justify==="left",o=a?"prepend":"append";if(Gt(t,n=>{let r;this.children.has(n.key)?(r=this.children.get(n.key),i.set(n,r),this.unpop(r),r.present=!0):(r=this.addChar(n,{startDigitsAtZero:!0,animateIn:!0}),e.set(n,r)),this.el[o](r.el)},{reverse:a}),this.flow.computedAnimated){const n=this.el.getBoundingClientRect();e.forEach(r=>{r.willUpdate(n)})}e.forEach((n,r)=>{n.update(r.value)}),i.forEach((n,r)=>{n.update(r.value)})}willUpdate(){const t=this.el.getBoundingClientRect();this._prevOffset=t[this.justify],this.children.forEach(e=>e.willUpdate(t))}didUpdate(){const t=this.el.getBoundingClientRect();this.children.forEach(a=>a.didUpdate(t));const e=t[this.justify],i=this._prevOffset-e;i&&this.children.size&&this.el.animate({transform:[`translateX(${i}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class st extends ct{update(t){const e=new Map;this.children.forEach((i,a)=>{t.find(o=>o.key===a)||e.set(a,i),this.unpop(i)}),this.addNewAndUpdateExisting(t),e.forEach(i=>{i instanceof pt&&i.update(0)}),this.pop(e)}}class at extends ct{update(t){const e=new Map;this.children.forEach((i,a)=>{t.find(o=>o.key===a)||e.set(a,i)}),this.pop(e),this.addNewAndUpdateExisting(t)}}class B{constructor(t,e,{onRemove:i,animateIn:a=!1}={}){this.flow=t,this.el=e,this._present=!0,this._remove=()=>{var o;this.el.remove(),(o=this._onRemove)==null||o.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&a&&this.el.animate({[U]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=i}get present(){return this._present}set present(t){if(this._present!==t){if(this._present=t,t?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){t||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",t?"0":"-.999"),this.el.animate({[U]:t?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),t?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}}class dt extends B{constructor(t,e,i,a){super(t.flow,i,a),this.section=t,this.value=e,this.el=i}}class pt extends dt{constructor(t,e,i,a,o){var n,r;const l=(((r=(n=t.flow.digits)==null?void 0:n[a])==null?void 0:r.max)??9)+1,p=Array.from({length:l}).map((f,g)=>{const v=w("span",{className:"digit__num"},[document.createTextNode(String(g))]);return g!==i&&v.setAttribute("inert",""),v.style.setProperty("--n",String(g)),v}),c=w("span",{part:`digit ${e}-digit`,className:"digit"},p);c.style.setProperty("--current",String(i)),c.style.setProperty("--length",String(l)),super(t,i,c,o),this.pos=a,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=p,this.length=l}willUpdate(t){const e=this.el.getBoundingClientRect();this._prevValue=this.value;const i=e[this.section.justify]-t[this.section.justify],a=e.width/2;this._prevCenter=this.section.justify==="left"?i+a:i-a}update(t){this.el.style.setProperty("--current",String(t)),this._numbers.forEach((e,i)=>i===t?e.removeAttribute("inert"):e.setAttribute("inert","")),this.value=t}didUpdate(t){const e=this.el.getBoundingClientRect(),i=e[this.section.justify]-t[this.section.justify],a=e.width/2,o=this.section.justify==="left"?i+a:i-a,n=this._prevCenter-o;n&&this.el.animate({transform:[`translateX(${n}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const r=this.getDelta();r&&(this.el.classList.add("is-spinning"),this.el.animate({[F]:[-r,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var t;if(this.flow.plugins)for(const a of this.flow.plugins){const o=(t=a.getDelta)==null?void 0:t.call(a,this.value,this._prevValue,this);if(o!=null)return o}const e=this.value-this._prevValue,i=this.flow.computedTrend||Math.sign(e);return i<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:i>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:e}}class ne extends dt{constructor(t,e,i,a){const o=w("span",{className:"symbol__value",textContent:i});super(t,i,w("span",{part:`symbol ${e}`,className:"symbol"},[o]),a),this.type=e,this._children=new Map,this._onChildRemove=n=>()=>{this._children.delete(n)},this._children.set(i,new B(this.flow,o,{onRemove:this._onChildRemove(i)}))}willUpdate(t){if(this.type==="decimal")return;const e=this.el.getBoundingClientRect();this._prevOffset=e[this.section.justify]-t[this.section.justify]}update(t){if(this.value!==t){const e=this._children.get(this.value);e&&(e.present=!1);const i=this._children.get(t);if(i)i.present=!0;else{const a=w("span",{className:"symbol__value",textContent:t});this.el.appendChild(a),this._children.set(t,new B(this.flow,a,{animateIn:!0,onRemove:this._onChildRemove(t)}))}}this.value=t}didUpdate(t){if(this.type==="decimal")return;const e=this.el.getBoundingClientRect()[this.section.justify]-t[this.section.justify],i=this._prevOffset-e;i&&this.el.animate({transform:[`translateX(${i}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}let ut=Symbol("group");function ve(s){At(ut,s)}function re(){return Rt(ut)}class m extends ht{set __svelte_batched(t){this.batched=t}set data(t){super.data=t}}Object.keys(m.defaultProps).forEach(s=>{Object.defineProperty(m.prototype,`__svelte_${s.toLowerCase()}`,{set(t){this[s]=t},enumerable:!0,configurable:!0})});Zt("number-flow-svelte",m);var oe=Bt("<number-flow-svelte><!></number-flow-svelte>",2);function ye(s,t){const e=K(t,["children","$$slots","$$events","$$legacy"]),i=K(e,["locales","format","value","prefix","suffix","willChange","transformTiming","spinTiming","opacityTiming","animated","respectMotionPreference","trend","plugins","digits","el"]);Pt(t,!1);const[a,o]=Ft(),n=Z(),r=Z();let l=u(t,"locales",24,()=>{}),p=u(t,"format",24,()=>{}),c=u(t,"value",8),f=u(t,"prefix",24,()=>{}),g=u(t,"suffix",24,()=>{}),v=u(t,"willChange",8,!1),R=u(t,"transformTiming",24,()=>m.defaultProps.transformTiming),d=u(t,"spinTiming",24,()=>m.defaultProps.spinTiming),h=u(t,"opacityTiming",24,()=>m.defaultProps.opacityTiming),$=u(t,"animated",24,()=>m.defaultProps.animated),ft=u(t,"respectMotionPreference",24,()=>m.defaultProps.respectMotionPreference),mt=u(t,"trend",24,()=>m.defaultProps.trend),gt=u(t,"plugins",24,()=>m.defaultProps.plugins),_t=u(t,"digits",24,()=>m.defaultProps.digits),x=u(t,"el",28,()=>{});const I=Tt(x()),W=re();W?.register?.(I),N(()=>y(x()),()=>{Xt(I,x())}),N(()=>(y(l()),y(p())),()=>{G(n,new Intl.NumberFormat(l(),p()))}),N(()=>(y(c()),E(n),y(f()),y(g())),()=>{G(r,qt(c(),E(n),f(),g()))}),jt(),Dt();var b=oe();It(b,C=>({...i,"data-will-change":v()?"":void 0,__svelte_batched:C,__svelte_transformtiming:R(),__svelte_spintiming:d(),__svelte_opacitytiming:h(),__svelte_animated:$(),__svelte_respectmotionpreference:ft(),__svelte_trend:mt(),__svelte_plugins:gt(),__svelte_digits:_t(),data:E(r)}),[()=>Y(()=>!!W)]);var vt=Ut(b);zt(vt,()=>(y(J),y(it),E(r),Y(()=>J?void 0:it(E(r))))),Mt(b),Wt(b,C=>x(C),()=>x()),Q("animationsstart",b,function(C){tt.call(this,t,C)}),Q("animationsfinish",b,function(C){tt.call(this,t,C)}),Vt(s,b),Nt(),o()}const le=rt(!1,s=>{nt(()=>{s(lt)})}),he=rt(!1,s=>{nt(()=>{s(k?.matches??!1);const t=({matches:e})=>{s(e)};return k?.addEventListener("change",t),()=>{k?.removeEventListener("change",t)}})});Lt([le,he],([s,t])=>s&&!t);export{ye as N,zt as h,ve as s};
