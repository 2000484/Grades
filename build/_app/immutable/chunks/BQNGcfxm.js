import{c as w,o as c}from"./BiKsXKFa.js";import{aW as h,aQ as u,aR as E,u as m,i as A,j as p}from"./C_6UiiDj.js";const g=typeof window<"u"?window:void 0;function R(n){let t=n.activeElement;for(;t?.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}class P{#n;#t;constructor(t={}){const{window:e=g,document:a=e?.document}=t;e!==void 0&&(this.#n=a,this.#t=w(o=>{const r=c(e,"focusin",o),s=c(e,"focusout",o);return()=>{r(),s()}}))}get current(){return this.#t?.(),this.#n?R(this.#n):null}}new P;class W{#n;#t;constructor(t){this.#n=t,this.#t=Symbol(t)}get key(){return this.#t}exists(){return h(this.#t)}get(){const t=u(this.#t);if(t===void 0)throw new Error(`Context "${this.#n}" not found`);return t}getOr(t){const e=u(this.#t);return e===void 0?t:e}set(t){return E(this.#t,t)}}function v(n,t){switch(n){case"post":A(t);break;case"pre":m(t);break}}function f(n,t,e,a={}){const{lazy:o=!1}=a;let r=!o,s=Array.isArray(n)?[]:void 0;v(t,()=>{const i=Array.isArray(n)?n.map(l=>l()):n();if(!r){r=!0,s=i;return}const d=p(()=>e(i,s));return s=i,d})}function O(n,t,e){f(n,"post",t,e)}function y(n,t,e){f(n,"pre",t,e)}O.pre=y;const _="ArrowDown",C="ArrowLeft",k="ArrowRight",H="ArrowUp",N="End",D="Enter",G="Escape",I="Home",L="PageDown",M="PageUp",U=" ",F="Tab",T=typeof document<"u",V=b();function b(){return T&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function j(n){return n instanceof HTMLElement}function B(n){return n instanceof Element}function z(n){return n instanceof Element||n instanceof SVGElement}function Q(n){return n.pointerType==="touch"}function $(n){return n!==null}function q(){}export{H as A,W as C,N as E,I as H,M as P,U as S,F as T,k as a,C as b,_ as c,D as d,T as e,z as f,G as g,V as h,j as i,g as j,$ as k,L as l,B as m,q as n,Q as o,O as w};
