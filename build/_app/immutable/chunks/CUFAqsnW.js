import{A as n,B as A,C as B,D,E as p,H as g,F as w,G as H,I as c,J as L,K as v,x as E,L as T,M as S,N as G,O as M,P as O,Q as P,U as R}from"./C_6UiiDj.js";import{B as U}from"./BiKsXKFa.js";const b=0,_=1;function F(m,k,y,r,l){n&&A();var h=B(),t=R,i=h?E(t):T(t,!1,!1),o=h?E(t):T(t,!1,!1),s=new U(m);D(()=>{var u=k(),I=!1;let N=n&&p(u)===(m.data===g);if(N&&(w(H()),c(!1)),p(u)){var x=S(),d=!1;const a=e=>{if(!I){d=!0,x(!1),G.ensure(),n&&c(!1);try{e()}finally{M(),O||P()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(f=>r(f,i)))})},e=>{a(()=>{if(v(o,e),s.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?s.ensure(b,y):L(()=>{d||a(()=>{s.ensure(b,y)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return N&&c(!0),()=>{I=!0}})}export{F as a};
