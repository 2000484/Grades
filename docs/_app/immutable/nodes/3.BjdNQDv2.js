import{f as $,a,c as J,t as j}from"../chunks/DnKRhqIz.js";import{o as $e}from"../chunks/BMYUHyEc.js";import{p as K,c as x,b as z,r as I,a as Q,f as b,i as ee,k as e,z as g,s as v,n as D,t as F}from"../chunks/C_6UiiDj.js";import{p as he,r as se,a as ge,i as H,b as xe,s as O}from"../chunks/BiKsXKFa.js";import{s as T}from"../chunks/5BVLSNDe.js";import{c as p}from"../chunks/Dx7iaVqR.js";import{t as y,f as Ie,s as re,b as te}from"../chunks/DPUHvIcC.js";import{B as be}from"../chunks/C_9lFkGh.js";import"../chunks/hruS_XFh.js";import{A as Pe}from"../chunks/BrFtJG7U.js";import{A as Re}from"../chunks/DanTIB-0.js";import{A as we}from"../chunks/AzE1CPgA.js";import{B as ke}from"../chunks/DTP4muSX.js";import{I as ye,a as Ae,b as Ne}from"../chunks/i8H71a2t.js";import{I as Ce}from"../chunks/DSM0AYdO.js";import{a as ze,c as Be}from"../chunks/BXc22fYE.js";import{b as Me}from"../chunks/Cq8bdp-N.js";import{r as V}from"../chunks/DVqIgX9X.js";import{s as Ee,h as Le}from"../chunks/jPXH___Y.js";import{s as ae,g as oe,a as q,i as Se}from"../chunks/4X1Xe5iH.js";import"../chunks/Ckop9Xay.js";import{C as Ge}from"../chunks/DZhQj4-Y.js";import{I as je}from"../chunks/HTnx3aD8.js";var De=$("<div><!></div>");function Fe(P,o){K(o,!0);let i=he(o,"ref",15,null),r=se(o,["$$slots","$$events","$$legacy","ref","class","children"]);var s=De();ze(s,m=>({"data-slot":"item-actions",class:m,...r}),[()=>Be("flex items-center gap-2",o.class)]);var h=x(s);T(h,()=>o.children??z),I(s),Me(s,m=>i(m),()=>i()),a(P,s),Q()}function He(P,o){K(o,!0);let i=se(o,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M12 7v5l4 2"}]];je(P,ge({name:"history"},()=>i,{get iconNode(){return r},children:(s,h)=>{var m=J(),B=b(m);T(B,()=>o.children??z),a(s,m)},$$slots:{default:!0}})),Q()}var Oe=$("<!> <!> <!>",1),Ve=$("<div><!></div>"),qe=$('<span>Viewing grades from <span class="font-bold"> </span></span>'),Je=$("<!> <!> <!>",1),Ke=$('<div class="m-4 flex justify-center"><!></div>'),Qe=$("<!> <!> <!> <div><!></div>",1);function hr(P,o){K(o,!0);const i=g(()=>oe.loadingError),r=g(()=>oe.gradebookCatalog),s=g(()=>e(r)?.loadingIndex),h=g(()=>e(r)?e(r).recordCache[e(r).overrideIndex??e(r).defaultIndex]:void 0),m=g(()=>e(r)?q(e(r).defaultIndex):void 0),B=g(()=>e(s)!==void 0?q(e(s)):void 0);function ne(){ae()}function ie(){ae({overrideIndex:e(r)?.overrideIndex,forceRefresh:!0})}$e(()=>{Se()}),ee(()=>{e(h)?.lastRefresh!==void 0&&(V.lastRefresh=e(h).lastRefresh,V.canRefresh=e(s)===void 0,V.onRefresh=ie)}),ee(()=>{(!e(r)||e(s)!==void 0)&&e(i)===void 0?Ee(e(B)||"Report Period",e(r)?.receivingData?"receiving":"pending"):Le()});var U=Qe(),W=b(U);{var de=n=>{};H(W,n=>{e(h)?.lastRefresh!==void 0&&n(de)})}var X=v(W,2);{var le=n=>{var t=Ve(),u=x(t);p(u,()=>Pe,(_,E)=>{E(_,{variant:"destructive",class:"mx-auto w-fit min-w-sm m-4 animate-in fade-in slide-in-from-top-2 duration-500",children:(L,me)=>{var R=Oe(),w=b(R);Ge(w,{});var k=v(w,2);p(k,()=>we,(d,l)=>{l(d,{children:(f,A)=>{D();var c=j("An error occurred while loading grades.");a(f,c)},$$slots:{default:!0}})});var S=v(k,2);p(S,()=>Re,(d,l)=>{l(d,{children:(f,A)=>{D();var c=j();F(N=>O(c,N),[()=>e(i)instanceof Error?e(i).message:String(e(i))]),a(f,c)},$$slots:{default:!0}})}),a(L,R)},$$slots:{default:!0}})}),I(t),y(1,t,()=>re,()=>({duration:400})),y(2,t,()=>re,()=>({duration:300})),a(n,t)};H(X,n=>{e(i)!==void 0&&n(le)})}var Y=v(X,2);{var fe=n=>{var t=Ke(),u=x(t);p(u,()=>Ne,(_,E)=>{E(_,{variant:"outline",size:"sm",class:"w-full max-w-3xl animate-in fade-in slide-in-from-top-3 duration-500",children:(L,me)=>{var R=Je(),w=b(R);p(w,()=>ye,(d,l)=>{l(d,{children:(f,A)=>{He(f,{class:"size-5"})},$$slots:{default:!0}})});var k=v(w,2);p(k,()=>Ce,(d,l)=>{l(d,{children:(f,A)=>{var c=J(),N=b(c);p(N,()=>Ae,(C,ue)=>{ue(C,{class:"whitespace-nowrap",children:(ve,Te)=>{var G=qe(),Z=v(x(G)),pe=x(Z,!0);I(Z),I(G),F(_e=>O(pe,_e),[()=>q(e(r).overrideIndex??e(r).defaultIndex)]),a(ve,G)},$$slots:{default:!0}})}),a(f,c)},$$slots:{default:!0}})});var S=v(k,2);p(S,()=>Fe,(d,l)=>{l(d,{children:(f,A)=>{ke(f,{onclick:ne,variant:"outline",class:"transition-all duration-300 hover:scale-105",children:(c,N)=>{D();var C=j();F(()=>O(C,`Return to ${e(m)??""}`)),a(c,C)},$$slots:{default:!0}})},$$slots:{default:!0}})}),a(L,R)},$$slots:{default:!0}})}),I(t),y(1,t,()=>te,()=>({start:.95,duration:300})),y(2,t,()=>te,()=>({start:.95,duration:200})),a(n,t)};H(Y,n=>{e(r)?.overrideIndex!==void 0&&n(fe)})}var M=v(Y,2),ce=x(M);xe(ce,{failed:(t,u=z,_=z)=>{be(t,{get error(){return u()},get reset(){return _()}})}},t=>{var u=J(),_=b(u);T(_,()=>o.children),a(t,u)}),I(M),y(1,M,()=>Ie,()=>({duration:400})),a(P,U),Q()}export{hr as component};
